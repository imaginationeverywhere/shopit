{"version":3,"sources":["../node_modules/get-size/get-size.js","../node_modules/isotope-layout/js/isotope.js","../node_modules/outlayer/outlayer.js","../node_modules/isotope-layout/js/layout-mode.js","../node_modules/fizzy-ui-utils/utils.js","../node_modules/desandro-matches-selector/matches-selector.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/outlayer/item.js","../node_modules/isotope-layout/js/item.js","../node_modules/isotope-layout/js/layout-modes/masonry.js","../node_modules/masonry-layout/masonry.js","../node_modules/isotope-layout/js/layout-modes/fit-rows.js","../node_modules/isotope-layout/js/layout-modes/vertical.js","../node_modules/react-sticky-box/dist/es/index.js","../node_modules/react-sticky-box/node_modules/@babel/runtime/helpers/inheritsLoose.js","../node_modules/react-sticky-box/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"],"names":["window","getStyleSize","value","num","parseFloat","indexOf","isNaN","logError","console","message","error","measurements","measurementsLength","length","getStyle","elem","style","getComputedStyle","isBoxSizeOuter","isSetup","getSize","div","document","createElement","width","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","Math","round","removeChild","setup","querySelector","nodeType","display","size","height","innerWidth","innerHeight","outerWidth","outerHeight","i","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","factory","Outlayer","matchesSelector","utils","Item","LayoutMode","jQuery","trim","String","prototype","str","replace","Isotope","create","layoutMode","isJQueryFiltering","sortAscending","proto","_create","name","this","itemGUID","_sorters","_getSorters","call","modes","filteredItems","items","sortHistory","_initLayoutMode","reloadItems","_itemize","apply","arguments","item","id","_updateItemsSortData","Mode","initialOpts","options","extend","layout","_isLayoutInited","_getOption","_layout","arrange","isInstant","_getIsInstant","_resetLayout","_manageStamps","layoutItems","opts","option","filtered","_filter","matches","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","_init","reveal","needReveal","hide","needHide","isLayoutInstant","undefined","isLayoutComplete","isHideComplete","isRevealComplete","_this","arrangeParallelCallback","dispatchEvent","once","filter","hiddenMatched","visibleUnmatched","test","_getFilterTest","isIgnored","isMatched","push","isHidden","element","is","updateSortData","elems","makeArray","getItems","getSortData","key","sorter","mungeSorter","len","args","split","query","attrMatch","match","getValue","attr","getAttribute","child","textContent","getValueGetter","parser","sortDataParsers","_parseInt","parseInt","_x","toString","val","_parseFloat","_x2","sortBy","sortBys","_getIsSameSortBy","concat","itemSorter","sortAsc","itemA","itemB","a","sortData","b","getItemSorter","sort","_mode","mode","Error","_getItemLayoutPosition","_manageStamp","stamp","_getContainerSize","needsResizeLayout","appended","addItems","_filterRevealAdded","prepended","insert","filteredInsertItems","_remove","remove","removeItems","removeFrom","shuffle","random","fn","transitionDuration","returnValue","getFilteredItemElements","map","EvEmitter","noop","GUID","instances","queryElement","getQueryElement","$element","constructor","defaults","outlayerGUID","namespace","containerStyle","position","initLayout","originLeft","originTop","resize","resizeContainer","hiddenStyle","opacity","transform","visibleStyle","subclass","Parent","SubClass","Object","oldOption","compatOptions","horizontal","layoutInstant","stamps","bindResize","children","itemElems","_filterFindItemElements","filterFindElements","itemSelector","getItemElements","_getMeasurement","HTMLElement","_getItemsForLayout","_layoutItems","_postLayout","_emitCompleteOnItems","queue","forEach","_processLayoutQueue","x","y","updateStagger","obj","_positionItem","stagger","time","unit","msUnits","getMilliseconds","goTo","moveTo","_setContainerMeasure","measure","isWidth","elemSize","max","eventName","onComplete","count","doneCount","tick","type","event","emitArgs","emitEvent","$event","Event","trigger","ignore","getItem","unignore","_find","unstamp","querySelectorAll","_getBoundingRect","boundingRect","getBoundingClientRect","_boundingRect","left","top","right","bottom","_getElementOffset","thisRect","handleEvent","addEventListener","isResizeBound","unbindResize","removeEventListener","onresize","debounceMethod","previousItems","slice","revealItemElements","hideItemElements","destroy","removeData","data","Layout","htmlInit","bridget","ms","s","isotope","methodName","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","prop","arraySlice","Array","isArray","ary","index","splice","getParent","selector","parentNode","method","ffElems","childElems","_class","threshold","timeoutName","timeout","clearTimeout","setTimeout","docReady","callback","readyState","toDashed","$1","$2","toLowerCase","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","JSON","parse","className","instance","matchesMethod","ElemProto","Element","prefixes","_objectWithoutProperties","source","excluded","target","sourceKeys","keys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","docElemStyle","transitionProperty","transition","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","from","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","propertyName","isEmptyObj","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","delay","removeElem","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","sorters","_destroy","Masonry","MasonryMode","keepModeMethods","measureColumns","isFitWidth","fitWidth","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","min","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","floor","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","FitRows","itemWidth","Vertical","horizontalAlignment","stickyProp","CSS","supports","passiveArg","defineProperty","get","passive","e","StickyBox","_React$Component","props","addListener","handler","unsubscribes","addResizeObserver","node","ro","observe","disconnect","registerContainerRef","n","scrollPane","parent","parentElement","overflowYVal","getPropertyValue","getScrollParent","latestScrollY","scrollY","scrollTop","handleScroll","handleWindowResize","handleScrollPaneResize","handleParentNodeResize","handleNodeResize","initial","getCurrentOffset","_this$props","offsetTop","offsetBottom","scrollPaneOffset","naturalTop","viewPortHeight","nodeHeight","firstChild","offsetParent","computedParentStyle","parentPaddingTop","parentPaddingBottom","current","offsetTill","oldParentHeight","parentHeight","changeMode","changeToStickyBottomIfBoxTooLow","Number","POSITIVE_INFINITY","_temp","prevHeight","_this$props2","diff","lowestPossible","nextOffset","_this$props3","scrollDelta","_proto","newMode","_this$props4","onChangeMode","nextBottom","render","_this$props5","ref","Component","defaultProps","setPrototypeOf","module","exports","subClass","superClass","__esModule","_setPrototypeOf","o","p","__proto__","MapShim","Map","getIndex","arr","result","some","entry","class_1","__entries__","enumerable","configurable","set","delete","entries","has","clear","ctx","_i","_a","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","requestAnimationFrame","bind","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","_b","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","styles","positions","reduce","getHTMLElementContentRect","clientWidth","clientHeight","paddings","positions_1","getPaddings","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver"],"mappings":"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","file":"static/js/11.a119a84e.chunk.js","sourcesContent":["/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n/* globals console: false */\n(function (window, factory) {\n  /* jshint strict: false */\n\n  /* globals define, module */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n})(window, function factory() {\n  'use strict'; // -------------------------- helpers -------------------------- //\n  // get a number from a string, not a percentage\n\n  function getStyleSize(value) {\n    var num = parseFloat(value); // not a percent like '100%', and a number\n\n    var isValid = value.indexOf('%') == -1 && !isNaN(num);\n    return isValid && num;\n  }\n\n  function noop() {}\n\n  var logError = typeof console == 'undefined' ? noop : function (message) {\n    console.error(message);\n  }; // -------------------------- measurements -------------------------- //\n\n  var measurements = ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom', 'marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'borderBottomWidth'];\n  var measurementsLength = measurements.length;\n\n  function getZeroSize() {\n    var size = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    };\n\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      size[measurement] = 0;\n    }\n\n    return size;\n  } // -------------------------- getStyle -------------------------- //\n\n  /**\n   * getStyle, get style of element, check for Firefox bug\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n\n\n  function getStyle(elem) {\n    var style = getComputedStyle(elem);\n\n    if (!style) {\n      logError('Style returned ' + style + '. Are you running this code in a hidden iframe on Firefox? ' + 'See https://bit.ly/getsizebug1');\n    }\n\n    return style;\n  } // -------------------------- setup -------------------------- //\n\n\n  var isSetup = false;\n  var isBoxSizeOuter;\n  /**\n   * setup\n   * check isBoxSizerOuter\n   * do on first getSize() rather than on page load for Firefox bug\n   */\n\n  function setup() {\n    // setup once\n    if (isSetup) {\n      return;\n    }\n\n    isSetup = true; // -------------------------- box sizing -------------------------- //\n\n    /**\n     * Chrome & Safari measure the outer-width on style.width on border-box elems\n     * IE11 & Firefox<29 measures the inner-width\n     */\n\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style.boxSizing = 'border-box';\n    var body = document.body || document.documentElement;\n    body.appendChild(div);\n    var style = getStyle(div); // round value for browser zoom. desandro/masonry#928\n\n    isBoxSizeOuter = Math.round(getStyleSize(style.width)) == 200;\n    getSize.isBoxSizeOuter = isBoxSizeOuter;\n    body.removeChild(div);\n  } // -------------------------- getSize -------------------------- //\n\n\n  function getSize(elem) {\n    setup(); // use querySeletor if elem is string\n\n    if (typeof elem == 'string') {\n      elem = document.querySelector(elem);\n    } // do not proceed on non-objects\n\n\n    if (!elem || typeof elem != 'object' || !elem.nodeType) {\n      return;\n    }\n\n    var style = getStyle(elem); // if hidden, everything is 0\n\n    if (style.display == 'none') {\n      return getZeroSize();\n    }\n\n    var size = {};\n    size.width = elem.offsetWidth;\n    size.height = elem.offsetHeight;\n    var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box'; // get all measurements\n\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      var value = style[measurement];\n      var num = parseFloat(value); // any 'auto', 'medium' value will be 0\n\n      size[measurement] = !isNaN(num) ? num : 0;\n    }\n\n    var paddingWidth = size.paddingLeft + size.paddingRight;\n    var paddingHeight = size.paddingTop + size.paddingBottom;\n    var marginWidth = size.marginLeft + size.marginRight;\n    var marginHeight = size.marginTop + size.marginBottom;\n    var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n    var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n    var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter; // overwrite width and height if we can get it from style\n\n    var styleWidth = getStyleSize(style.width);\n\n    if (styleWidth !== false) {\n      size.width = styleWidth + ( // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n    }\n\n    var styleHeight = getStyleSize(style.height);\n\n    if (styleHeight !== false) {\n      size.height = styleHeight + ( // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n    }\n\n    size.innerWidth = size.width - (paddingWidth + borderWidth);\n    size.innerHeight = size.height - (paddingHeight + borderHeight);\n    size.outerWidth = size.width + marginWidth;\n    size.outerHeight = size.height + marginHeight;\n    return size;\n  }\n\n  return getSize;\n});","/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer', 'get-size/get-size', 'desandro-matches-selector/matches-selector', 'fizzy-ui-utils/utils', './item', './layout-mode', // include default layout modes\n    './layout-modes/masonry', './layout-modes/fit-rows', './layout-modes/vertical'], function (Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {\n      return factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('outlayer'), require('get-size'), require('desandro-matches-selector'), require('fizzy-ui-utils'), require('./item'), require('./layout-mode'), // include default layout modes\n    require('./layout-modes/masonry'), require('./layout-modes/fit-rows'), require('./layout-modes/vertical'));\n  } else {\n    // browser global\n    window.Isotope = factory(window, window.Outlayer, window.getSize, window.matchesSelector, window.fizzyUIUtils, window.Isotope.Item, window.Isotope.LayoutMode);\n  }\n})(window, function factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {\n  'use strict'; // -------------------------- vars -------------------------- //\n\n  var jQuery = window.jQuery; // -------------------------- helpers -------------------------- //\n\n  var trim = String.prototype.trim ? function (str) {\n    return str.trim();\n  } : function (str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }; // -------------------------- isotopeDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var Isotope = Outlayer.create('isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n  var proto = Isotope.prototype;\n\n  proto._create = function () {\n    this.itemGUID = 0; // functions that sort items\n\n    this._sorters = {};\n\n    this._getSorters(); // call super\n\n\n    Outlayer.prototype._create.call(this); // create layout modes\n\n\n    this.modes = {}; // start filteredItems with all items\n\n    this.filteredItems = this.items; // keep of track of sortBys\n\n    this.sortHistory = ['original-order']; // create from registered layout modes\n\n    for (var name in LayoutMode.modes) {\n      this._initLayoutMode(name);\n    }\n  };\n\n  proto.reloadItems = function () {\n    // reset item ID counter\n    this.itemGUID = 0; // call super\n\n    Outlayer.prototype.reloadItems.call(this);\n  };\n\n  proto._itemize = function () {\n    var items = Outlayer.prototype._itemize.apply(this, arguments); // assign ID for original-order\n\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n\n    this._updateItemsSortData(items);\n\n    return items;\n  }; // -------------------------- layout -------------------------- //\n\n\n  proto._initLayoutMode = function (name) {\n    var Mode = LayoutMode.modes[name]; // set mode options\n    // HACK extend initial options, back-fill in default options\n\n    var initialOpts = this.options[name] || {};\n    this.options[name] = Mode.options ? utils.extend(Mode.options, initialOpts) : initialOpts; // init layout mode instance\n\n    this.modes[name] = new Mode(this);\n  };\n\n  proto.layout = function () {\n    // if first time doing layout, do all magic\n    if (!this._isLayoutInited && this._getOption('initLayout')) {\n      this.arrange();\n      return;\n    }\n\n    this._layout();\n  }; // private method to be used in layout() & magic()\n\n\n  proto._layout = function () {\n    // don't animate first layout\n    var isInstant = this._getIsInstant(); // layout flow\n\n\n    this._resetLayout();\n\n    this._manageStamps();\n\n    this.layoutItems(this.filteredItems, isInstant); // flag for initalized\n\n    this._isLayoutInited = true;\n  }; // filter + sort + layout\n\n\n  proto.arrange = function (opts) {\n    // set any options pass\n    this.option(opts);\n\n    this._getIsInstant(); // filter, sort, and layout\n    // filter\n\n\n    var filtered = this._filter(this.items);\n\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if (this._isInstant) {\n      this._noTransition(this._hideReveal, [filtered]);\n    } else {\n      this._hideReveal(filtered);\n    }\n\n    this._sort();\n\n    this._layout();\n  }; // alias to _init for main plugin method\n\n\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function (filtered) {\n    this.reveal(filtered.needReveal);\n    this.hide(filtered.needHide);\n  }; // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n\n\n  proto._getIsInstant = function () {\n    var isLayoutInstant = this._getOption('layoutInstant');\n\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant : !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  }; // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n\n\n  proto._bindArrangeComplete = function () {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n\n    var _this = this;\n\n    function arrangeParallelCallback() {\n      if (isLayoutComplete && isHideComplete && isRevealComplete) {\n        _this.dispatchEvent('arrangeComplete', null, [_this.filteredItems]);\n      }\n    }\n\n    this.once('layoutComplete', function () {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once('hideComplete', function () {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once('revealComplete', function () {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  }; // -------------------------- filter -------------------------- //\n\n\n  proto._filter = function (items) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest(filter); // test each item\n\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n\n      if (item.isIgnored) {\n        continue;\n      } // add item to either matched or unmatched group\n\n\n      var isMatched = test(item); // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n\n      if (isMatched) {\n        matches.push(item);\n      } // add to additional group if item needs to be hidden or revealed\n\n\n      if (isMatched && item.isHidden) {\n        hiddenMatched.push(item);\n      } else if (!isMatched && !item.isHidden) {\n        visibleUnmatched.push(item);\n      }\n    } // return collections of items to be manipulated\n\n\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  }; // get a jQuery, function, or a matchesSelector test given the filter\n\n\n  proto._getFilterTest = function (filter) {\n    if (jQuery && this.options.isJQueryFiltering) {\n      // use jQuery\n      return function (item) {\n        return jQuery(item.element).is(filter);\n      };\n    }\n\n    if (typeof filter == 'function') {\n      // use filter as function\n      return function (item) {\n        return filter(item.element);\n      };\n    } // default, use filter as selector string\n\n\n    return function (item) {\n      return matchesSelector(item.element, filter);\n    };\n  }; // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n\n\n  proto.updateSortData = function (elems) {\n    // get items\n    var items;\n\n    if (elems) {\n      elems = utils.makeArray(elems);\n      items = this.getItems(elems);\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n\n    this._updateItemsSortData(items);\n  };\n\n  proto._getSorters = function () {\n    var getSortData = this.options.getSortData;\n\n    for (var key in getSortData) {\n      var sorter = getSortData[key];\n      this._sorters[key] = mungeSorter(sorter);\n    }\n  };\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n\n\n  proto._updateItemsSortData = function (items) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for (var i = 0; len && i < len; i++) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  }; // ----- munge sorter ----- //\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n\n\n  var mungeSorter = function () {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter(sorter) {\n      // if not a string, return function or whatever it is\n      if (typeof sorter != 'string') {\n        return sorter;\n      } // parse the sorter string\n\n\n      var args = trim(sorter).split(' ');\n      var query = args[0]; // check if query looks like [an-attribute]\n\n      var attrMatch = query.match(/^\\[(.+)\\]$/);\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter(attr, query); // use second argument as a parser\n\n      var parser = Isotope.sortDataParsers[args[1]]; // parse the value, if there was a parser\n\n      sorter = parser ? function (elem) {\n        return elem && parser(getValue(elem));\n      } : // otherwise just return value\n      function (elem) {\n        return elem && getValue(elem);\n      };\n      return sorter;\n    } // get an attribute getter, or get text of the querySelector\n\n\n    function getValueGetter(attr, query) {\n      // if query looks like [foo-bar], get attribute\n      if (attr) {\n        return function getAttribute(elem) {\n          return elem.getAttribute(attr);\n        };\n      } // otherwise, assume its a querySelector, and get its text\n\n\n      return function getChildText(elem) {\n        var child = elem.querySelector(query);\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  }(); // parsers used in getSortData shortcut strings\n\n\n  Isotope.sortDataParsers = {\n    'parseInt': function (_parseInt) {\n      function parseInt(_x) {\n        return _parseInt.apply(this, arguments);\n      }\n\n      parseInt.toString = function () {\n        return _parseInt.toString();\n      };\n\n      return parseInt;\n    }(function (val) {\n      return parseInt(val, 10);\n    }),\n    'parseFloat': function (_parseFloat) {\n      function parseFloat(_x2) {\n        return _parseFloat.apply(this, arguments);\n      }\n\n      parseFloat.toString = function () {\n        return _parseFloat.toString();\n      };\n\n      return parseFloat;\n    }(function (val) {\n      return parseFloat(val);\n    })\n  }; // ----- sort method ----- //\n  // sort filteredItem order\n\n  proto._sort = function () {\n    if (!this.options.sortBy) {\n      return;\n    } // keep track of sortBy History\n\n\n    var sortBys = utils.makeArray(this.options.sortBy);\n\n    if (!this._getIsSameSortBy(sortBys)) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat(this.sortHistory);\n    } // sort magic\n\n\n    var itemSorter = getItemSorter(this.sortHistory, this.options.sortAscending);\n    this.filteredItems.sort(itemSorter);\n  }; // check if sortBys is same as start of sortHistory\n\n\n  proto._getIsSameSortBy = function (sortBys) {\n    for (var i = 0; i < sortBys.length; i++) {\n      if (sortBys[i] != this.sortHistory[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }; // returns a function used for sorting\n\n\n  function getItemSorter(sortBys, sortAsc) {\n    return function sorter(itemA, itemB) {\n      // cycle through all sortKeys\n      for (var i = 0; i < sortBys.length; i++) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[sortBy];\n        var b = itemB.sortData[sortBy];\n\n        if (a > b || a < b) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[sortBy] !== undefined ? sortAsc[sortBy] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return (a > b ? 1 : -1) * direction;\n        }\n      }\n\n      return 0;\n    };\n  } // -------------------------- methods -------------------------- //\n  // get layout mode\n\n\n  proto._mode = function () {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[layoutMode];\n\n    if (!mode) {\n      // TODO console.error\n      throw new Error('No layout mode: ' + layoutMode);\n    } // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n\n\n    mode.options = this.options[layoutMode];\n    return mode;\n  };\n\n  proto._resetLayout = function () {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call(this);\n\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    return this._mode()._getItemLayoutPosition(item);\n  };\n\n  proto._manageStamp = function (stamp) {\n    this._mode()._manageStamp(stamp);\n  };\n\n  proto._getContainerSize = function () {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function () {\n    return this._mode().needsResizeLayout();\n  }; // -------------------------- adding & removing -------------------------- //\n  // HEADS UP overwrites default Outlayer appended\n\n\n  proto.appended = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // filter, layout, reveal new items\n\n\n    var filteredItems = this._filterRevealAdded(items); // add to filteredItems\n\n\n    this.filteredItems = this.filteredItems.concat(filteredItems);\n  }; // HEADS UP overwrites default Outlayer prepended\n\n\n  proto.prepended = function (elems) {\n    var items = this._itemize(elems);\n\n    if (!items.length) {\n      return;\n    } // start new layout\n\n\n    this._resetLayout();\n\n    this._manageStamps(); // filter, layout, reveal new items\n\n\n    var filteredItems = this._filterRevealAdded(items); // layout previous items\n\n\n    this.layoutItems(this.filteredItems); // add to items and filteredItems\n\n    this.filteredItems = filteredItems.concat(this.filteredItems);\n    this.items = items.concat(this.items);\n  };\n\n  proto._filterRevealAdded = function (items) {\n    var filtered = this._filter(items);\n\n    this.hide(filtered.needHide); // reveal all new items\n\n    this.reveal(filtered.matches); // layout new items, no transition\n\n    this.layoutItems(filtered.matches, true);\n    return filtered.matches;\n  };\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.insert = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // append item elements\n\n\n    var i, item;\n    var len = items.length;\n\n    for (i = 0; i < len; i++) {\n      item = items[i];\n      this.element.appendChild(item.element);\n    } // filter new stuff\n\n\n    var filteredInsertItems = this._filter(items).matches; // set flag\n\n\n    for (i = 0; i < len; i++) {\n      items[i].isLayoutInstant = true;\n    }\n\n    this.arrange(); // reset flag\n\n    for (i = 0; i < len; i++) {\n      delete items[i].isLayoutInstant;\n    }\n\n    this.reveal(filteredInsertItems);\n  };\n\n  var _remove = proto.remove;\n\n  proto.remove = function (elems) {\n    elems = utils.makeArray(elems);\n    var removeItems = this.getItems(elems); // do regular thing\n\n    _remove.call(this, elems); // bail if no items to remove\n\n\n    var len = removeItems && removeItems.length; // remove elems from filteredItems\n\n    for (var i = 0; len && i < len; i++) {\n      var item = removeItems[i]; // remove item from collection\n\n      utils.removeFrom(this.filteredItems, item);\n    }\n  };\n\n  proto.shuffle = function () {\n    // update random sortData\n    for (var i = 0; i < this.items.length; i++) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n\n    this.options.sortBy = 'random';\n\n    this._sort();\n\n    this._layout();\n  };\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n\n\n  proto._noTransition = function (fn, args) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration; // disable transition\n\n    this.options.transitionDuration = 0; // do it\n\n    var returnValue = fn.apply(this, args); // re-enable transition for reveal\n\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  }; // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n\n\n  proto.getFilteredItemElements = function () {\n    return this.filteredItems.map(function (item) {\n      return item.element;\n    });\n  }; // -----  ----- //\n\n\n  return Isotope;\n});","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n(function (window, factory) {\n  'use strict'; // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(['ev-emitter/ev-emitter', 'get-size/get-size', 'fizzy-ui-utils/utils', './item'], function (EvEmitter, getSize, utils, Item) {\n      return factory(window, EvEmitter, getSize, utils, Item);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(window, require('ev-emitter'), require('get-size'), require('fizzy-ui-utils'), require('./item'));\n  } else {\n    // browser global\n    window.Outlayer = factory(window, window.EvEmitter, window.getSize, window.fizzyUIUtils, window.Outlayer.Item);\n  }\n})(window, function factory(window, EvEmitter, getSize, utils, Item) {\n  'use strict'; // ----- vars ----- //\n\n  var console = window.console;\n  var jQuery = window.jQuery;\n\n  var noop = function noop() {}; // -------------------------- Outlayer -------------------------- //\n  // globally unique identifiers\n\n\n  var GUID = 0; // internal store of all Outlayer intances\n\n  var instances = {};\n  /**\n   * @param {Element, String} element\n   * @param {Object} options\n   * @constructor\n   */\n\n  function Outlayer(element, options) {\n    var queryElement = utils.getQueryElement(element);\n\n    if (!queryElement) {\n      if (console) {\n        console.error('Bad element for ' + this.constructor.namespace + ': ' + (queryElement || element));\n      }\n\n      return;\n    }\n\n    this.element = queryElement; // add jQuery\n\n    if (jQuery) {\n      this.$element = jQuery(this.element);\n    } // options\n\n\n    this.options = utils.extend({}, this.constructor.defaults);\n    this.option(options); // add id for Outlayer.getFromElement\n\n    var id = ++GUID;\n    this.element.outlayerGUID = id; // expando\n\n    instances[id] = this; // associate via id\n    // kick it off\n\n    this._create();\n\n    var isInitLayout = this._getOption('initLayout');\n\n    if (isInitLayout) {\n      this.layout();\n    }\n  } // settings are for internal use only\n\n\n  Outlayer.namespace = 'outlayer';\n  Outlayer.Item = Item; // default options\n\n  Outlayer.defaults = {\n    containerStyle: {\n      position: 'relative'\n    },\n    initLayout: true,\n    originLeft: true,\n    originTop: true,\n    resize: true,\n    resizeContainer: true,\n    // item options\n    transitionDuration: '0.4s',\n    hiddenStyle: {\n      opacity: 0,\n      transform: 'scale(0.001)'\n    },\n    visibleStyle: {\n      opacity: 1,\n      transform: 'scale(1)'\n    }\n  };\n  var proto = Outlayer.prototype; // inherit EvEmitter\n\n  utils.extend(proto, EvEmitter.prototype);\n  /**\n   * set options\n   * @param {Object} opts\n   */\n\n  proto.option = function (opts) {\n    utils.extend(this.options, opts);\n  };\n  /**\n   * get backwards compatible option value, check old name\n   */\n\n\n  proto._getOption = function (option) {\n    var oldOption = this.constructor.compatOptions[option];\n    return oldOption && this.options[oldOption] !== undefined ? this.options[oldOption] : this.options[option];\n  };\n\n  Outlayer.compatOptions = {\n    // currentName: oldName\n    initLayout: 'isInitLayout',\n    horizontal: 'isHorizontal',\n    layoutInstant: 'isLayoutInstant',\n    originLeft: 'isOriginLeft',\n    originTop: 'isOriginTop',\n    resize: 'isResizeBound',\n    resizeContainer: 'isResizingContainer'\n  };\n\n  proto._create = function () {\n    // get items from children\n    this.reloadItems(); // elements that affect layout, but are not laid out\n\n    this.stamps = [];\n    this.stamp(this.options.stamp); // set container style\n\n    utils.extend(this.element.style, this.options.containerStyle); // bind resize method\n\n    var canBindResize = this._getOption('resize');\n\n    if (canBindResize) {\n      this.bindResize();\n    }\n  }; // goes through all children again and gets bricks in proper order\n\n\n  proto.reloadItems = function () {\n    // collection of item elements\n    this.items = this._itemize(this.element.children);\n  };\n  /**\n   * turn elements into Outlayer.Items to be used in layout\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - collection of new Outlayer Items\n   */\n\n\n  proto._itemize = function (elems) {\n    var itemElems = this._filterFindItemElements(elems);\n\n    var Item = this.constructor.Item; // create new Outlayer Items for collection\n\n    var items = [];\n\n    for (var i = 0; i < itemElems.length; i++) {\n      var elem = itemElems[i];\n      var item = new Item(elem, this);\n      items.push(item);\n    }\n\n    return items;\n  };\n  /**\n   * get item elements to be used in layout\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - item elements\n   */\n\n\n  proto._filterFindItemElements = function (elems) {\n    return utils.filterFindElements(elems, this.options.itemSelector);\n  };\n  /**\n   * getter method for getting item elements\n   * @returns {Array} elems - collection of item elements\n   */\n\n\n  proto.getItemElements = function () {\n    return this.items.map(function (item) {\n      return item.element;\n    });\n  }; // ----- init & layout ----- //\n\n  /**\n   * lays out all items\n   */\n\n\n  proto.layout = function () {\n    this._resetLayout();\n\n    this._manageStamps(); // don't animate first layout\n\n\n    var layoutInstant = this._getOption('layoutInstant');\n\n    var isInstant = layoutInstant !== undefined ? layoutInstant : !this._isLayoutInited;\n    this.layoutItems(this.items, isInstant); // flag for initalized\n\n    this._isLayoutInited = true;\n  }; // _init is alias for layout\n\n\n  proto._init = proto.layout;\n  /**\n   * logic before any new layout\n   */\n\n  proto._resetLayout = function () {\n    this.getSize();\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n  /**\n   * get measurement from option, for columnWidth, rowHeight, gutter\n   * if option is String -> get element from selector string, & get size of element\n   * if option is Element -> get size of element\n   * else use option as a number\n   *\n   * @param {String} measurement\n   * @param {String} size - width or height\n   * @private\n   */\n\n\n  proto._getMeasurement = function (measurement, size) {\n    var option = this.options[measurement];\n    var elem;\n\n    if (!option) {\n      // default to 0\n      this[measurement] = 0;\n    } else {\n      // use option as an element\n      if (typeof option == 'string') {\n        elem = this.element.querySelector(option);\n      } else if (option instanceof HTMLElement) {\n        elem = option;\n      } // use size of element, if element\n\n\n      this[measurement] = elem ? getSize(elem)[size] : option;\n    }\n  };\n  /**\n   * layout a collection of item elements\n   * @api public\n   */\n\n\n  proto.layoutItems = function (items, isInstant) {\n    items = this._getItemsForLayout(items);\n\n    this._layoutItems(items, isInstant);\n\n    this._postLayout();\n  };\n  /**\n   * get the items to be laid out\n   * you may want to skip over some items\n   * @param {Array} items\n   * @returns {Array} items\n   */\n\n\n  proto._getItemsForLayout = function (items) {\n    return items.filter(function (item) {\n      return !item.isIgnored;\n    });\n  };\n  /**\n   * layout items\n   * @param {Array} items\n   * @param {Boolean} isInstant\n   */\n\n\n  proto._layoutItems = function (items, isInstant) {\n    this._emitCompleteOnItems('layout', items);\n\n    if (!items || !items.length) {\n      // no items, emit event with empty array\n      return;\n    }\n\n    var queue = [];\n    items.forEach(function (item) {\n      // get x/y object from method\n      var position = this._getItemLayoutPosition(item); // enqueue\n\n\n      position.item = item;\n      position.isInstant = isInstant || item.isLayoutInstant;\n      queue.push(position);\n    }, this);\n\n    this._processLayoutQueue(queue);\n  };\n  /**\n   * get item layout position\n   * @param {Outlayer.Item} item\n   * @returns {Object} x and y position\n   */\n\n\n  proto._getItemLayoutPosition = function ()\n  /* item */\n  {\n    return {\n      x: 0,\n      y: 0\n    };\n  };\n  /**\n   * iterate over array and position each item\n   * Reason being - separating this logic prevents 'layout invalidation'\n   * thx @paul_irish\n   * @param {Array} queue\n   */\n\n\n  proto._processLayoutQueue = function (queue) {\n    this.updateStagger();\n    queue.forEach(function (obj, i) {\n      this._positionItem(obj.item, obj.x, obj.y, obj.isInstant, i);\n    }, this);\n  }; // set stagger from option in milliseconds number\n\n\n  proto.updateStagger = function () {\n    var stagger = this.options.stagger;\n\n    if (stagger === null || stagger === undefined) {\n      this.stagger = 0;\n      return;\n    }\n\n    this.stagger = getMilliseconds(stagger);\n    return this.stagger;\n  };\n  /**\n   * Sets position of item in DOM\n   * @param {Outlayer.Item} item\n   * @param {Number} x - horizontal position\n   * @param {Number} y - vertical position\n   * @param {Boolean} isInstant - disables transitions\n   */\n\n\n  proto._positionItem = function (item, x, y, isInstant, i) {\n    if (isInstant) {\n      // if not transition, just set CSS\n      item.goTo(x, y);\n    } else {\n      item.stagger(i * this.stagger);\n      item.moveTo(x, y);\n    }\n  };\n  /**\n   * Any logic you want to do after each layout,\n   * i.e. size the container\n   */\n\n\n  proto._postLayout = function () {\n    this.resizeContainer();\n  };\n\n  proto.resizeContainer = function () {\n    var isResizingContainer = this._getOption('resizeContainer');\n\n    if (!isResizingContainer) {\n      return;\n    }\n\n    var size = this._getContainerSize();\n\n    if (size) {\n      this._setContainerMeasure(size.width, true);\n\n      this._setContainerMeasure(size.height, false);\n    }\n  };\n  /**\n   * Sets width or height of container if returned\n   * @returns {Object} size\n   *   @param {Number} width\n   *   @param {Number} height\n   */\n\n\n  proto._getContainerSize = noop;\n  /**\n   * @param {Number} measure - size of width or height\n   * @param {Boolean} isWidth\n   */\n\n  proto._setContainerMeasure = function (measure, isWidth) {\n    if (measure === undefined) {\n      return;\n    }\n\n    var elemSize = this.size; // add padding and border width if border box\n\n    if (elemSize.isBorderBox) {\n      measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight + elemSize.borderLeftWidth + elemSize.borderRightWidth : elemSize.paddingBottom + elemSize.paddingTop + elemSize.borderTopWidth + elemSize.borderBottomWidth;\n    }\n\n    measure = Math.max(measure, 0);\n    this.element.style[isWidth ? 'width' : 'height'] = measure + 'px';\n  };\n  /**\n   * emit eventComplete on a collection of items events\n   * @param {String} eventName\n   * @param {Array} items - Outlayer.Items\n   */\n\n\n  proto._emitCompleteOnItems = function (eventName, items) {\n    var _this = this;\n\n    function onComplete() {\n      _this.dispatchEvent(eventName + 'Complete', null, [items]);\n    }\n\n    var count = items.length;\n\n    if (!items || !count) {\n      onComplete();\n      return;\n    }\n\n    var doneCount = 0;\n\n    function tick() {\n      doneCount++;\n\n      if (doneCount == count) {\n        onComplete();\n      }\n    } // bind callback\n\n\n    items.forEach(function (item) {\n      item.once(eventName, tick);\n    });\n  };\n  /**\n   * emits events via EvEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n\n\n  proto.dispatchEvent = function (type, event, args) {\n    // add original event to arguments\n    var emitArgs = event ? [event].concat(args) : args;\n    this.emitEvent(type, emitArgs);\n\n    if (jQuery) {\n      // set this.$element\n      this.$element = this.$element || jQuery(this.element);\n\n      if (event) {\n        // create jQuery event\n        var $event = jQuery.Event(event);\n        $event.type = type;\n        this.$element.trigger($event, args);\n      } else {\n        // just trigger with type if no event available\n        this.$element.trigger(type, args);\n      }\n    }\n  }; // -------------------------- ignore & stamps -------------------------- //\n\n  /**\n   * keep item in collection, but do not lay it out\n   * ignored items do not get skipped in layout\n   * @param {Element} elem\n   */\n\n\n  proto.ignore = function (elem) {\n    var item = this.getItem(elem);\n\n    if (item) {\n      item.isIgnored = true;\n    }\n  };\n  /**\n   * return item to layout collection\n   * @param {Element} elem\n   */\n\n\n  proto.unignore = function (elem) {\n    var item = this.getItem(elem);\n\n    if (item) {\n      delete item.isIgnored;\n    }\n  };\n  /**\n   * adds elements to stamps\n   * @param {NodeList, Array, Element, or String} elems\n   */\n\n\n  proto.stamp = function (elems) {\n    elems = this._find(elems);\n\n    if (!elems) {\n      return;\n    }\n\n    this.stamps = this.stamps.concat(elems); // ignore\n\n    elems.forEach(this.ignore, this);\n  };\n  /**\n   * removes elements to stamps\n   * @param {NodeList, Array, or Element} elems\n   */\n\n\n  proto.unstamp = function (elems) {\n    elems = this._find(elems);\n\n    if (!elems) {\n      return;\n    }\n\n    elems.forEach(function (elem) {\n      // filter out removed stamp elements\n      utils.removeFrom(this.stamps, elem);\n      this.unignore(elem);\n    }, this);\n  };\n  /**\n   * finds child elements\n   * @param {NodeList, Array, Element, or String} elems\n   * @returns {Array} elems\n   */\n\n\n  proto._find = function (elems) {\n    if (!elems) {\n      return;\n    } // if string, use argument as selector string\n\n\n    if (typeof elems == 'string') {\n      elems = this.element.querySelectorAll(elems);\n    }\n\n    elems = utils.makeArray(elems);\n    return elems;\n  };\n\n  proto._manageStamps = function () {\n    if (!this.stamps || !this.stamps.length) {\n      return;\n    }\n\n    this._getBoundingRect();\n\n    this.stamps.forEach(this._manageStamp, this);\n  }; // update boundingLeft / Top\n\n\n  proto._getBoundingRect = function () {\n    // get bounding rect for container element\n    var boundingRect = this.element.getBoundingClientRect();\n    var size = this.size;\n    this._boundingRect = {\n      left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n      top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n      right: boundingRect.right - (size.paddingRight + size.borderRightWidth),\n      bottom: boundingRect.bottom - (size.paddingBottom + size.borderBottomWidth)\n    };\n  };\n  /**\n   * @param {Element} stamp\n  **/\n\n\n  proto._manageStamp = noop;\n  /**\n   * get x/y position of element relative to container element\n   * @param {Element} elem\n   * @returns {Object} offset - has left, top, right, bottom\n   */\n\n  proto._getElementOffset = function (elem) {\n    var boundingRect = elem.getBoundingClientRect();\n    var thisRect = this._boundingRect;\n    var size = getSize(elem);\n    var offset = {\n      left: boundingRect.left - thisRect.left - size.marginLeft,\n      top: boundingRect.top - thisRect.top - size.marginTop,\n      right: thisRect.right - boundingRect.right - size.marginRight,\n      bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n    };\n    return offset;\n  }; // -------------------------- resize -------------------------- //\n  // enable event handlers for listeners\n  // i.e. resize -> onresize\n\n\n  proto.handleEvent = utils.handleEvent;\n  /**\n   * Bind layout to window resizing\n   */\n\n  proto.bindResize = function () {\n    window.addEventListener('resize', this);\n    this.isResizeBound = true;\n  };\n  /**\n   * Unbind layout to window resizing\n   */\n\n\n  proto.unbindResize = function () {\n    window.removeEventListener('resize', this);\n    this.isResizeBound = false;\n  };\n\n  proto.onresize = function () {\n    this.resize();\n  };\n\n  utils.debounceMethod(Outlayer, 'onresize', 100);\n\n  proto.resize = function () {\n    // don't trigger if size did not change\n    // or if resize was unbound. See #9\n    if (!this.isResizeBound || !this.needsResizeLayout()) {\n      return;\n    }\n\n    this.layout();\n  };\n  /**\n   * check if layout is needed post layout\n   * @returns Boolean\n   */\n\n\n  proto.needsResizeLayout = function () {\n    var size = getSize(this.element); // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var hasSizes = this.size && size;\n    return hasSizes && size.innerWidth !== this.size.innerWidth;\n  }; // -------------------------- methods -------------------------- //\n\n  /**\n   * add items to Outlayer instance\n   * @param {Array or NodeList or Element} elems\n   * @returns {Array} items - Outlayer.Items\n  **/\n\n\n  proto.addItems = function (elems) {\n    var items = this._itemize(elems); // add items to collection\n\n\n    if (items.length) {\n      this.items = this.items.concat(items);\n    }\n\n    return items;\n  };\n  /**\n   * Layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.appended = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // layout and reveal just the new items\n\n\n    this.layoutItems(items, true);\n    this.reveal(items);\n  };\n  /**\n   * Layout prepended elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.prepended = function (elems) {\n    var items = this._itemize(elems);\n\n    if (!items.length) {\n      return;\n    } // add items to beginning of collection\n\n\n    var previousItems = this.items.slice(0);\n    this.items = items.concat(previousItems); // start new layout\n\n    this._resetLayout();\n\n    this._manageStamps(); // layout new stuff without transition\n\n\n    this.layoutItems(items, true);\n    this.reveal(items); // layout previous items\n\n    this.layoutItems(previousItems);\n  };\n  /**\n   * reveal a collection of items\n   * @param {Array of Outlayer.Items} items\n   */\n\n\n  proto.reveal = function (items) {\n    this._emitCompleteOnItems('reveal', items);\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var stagger = this.updateStagger();\n    items.forEach(function (item, i) {\n      item.stagger(i * stagger);\n      item.reveal();\n    });\n  };\n  /**\n   * hide a collection of items\n   * @param {Array of Outlayer.Items} items\n   */\n\n\n  proto.hide = function (items) {\n    this._emitCompleteOnItems('hide', items);\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var stagger = this.updateStagger();\n    items.forEach(function (item, i) {\n      item.stagger(i * stagger);\n      item.hide();\n    });\n  };\n  /**\n   * reveal item elements\n   * @param {Array}, {Element}, {NodeList} items\n   */\n\n\n  proto.revealItemElements = function (elems) {\n    var items = this.getItems(elems);\n    this.reveal(items);\n  };\n  /**\n   * hide item elements\n   * @param {Array}, {Element}, {NodeList} items\n   */\n\n\n  proto.hideItemElements = function (elems) {\n    var items = this.getItems(elems);\n    this.hide(items);\n  };\n  /**\n   * get Outlayer.Item, given an Element\n   * @param {Element} elem\n   * @param {Function} callback\n   * @returns {Outlayer.Item} item\n   */\n\n\n  proto.getItem = function (elem) {\n    // loop through items to get the one that matches\n    for (var i = 0; i < this.items.length; i++) {\n      var item = this.items[i];\n\n      if (item.element == elem) {\n        // return item\n        return item;\n      }\n    }\n  };\n  /**\n   * get collection of Outlayer.Items, given Elements\n   * @param {Array} elems\n   * @returns {Array} items - Outlayer.Items\n   */\n\n\n  proto.getItems = function (elems) {\n    elems = utils.makeArray(elems);\n    var items = [];\n    elems.forEach(function (elem) {\n      var item = this.getItem(elem);\n\n      if (item) {\n        items.push(item);\n      }\n    }, this);\n    return items;\n  };\n  /**\n   * remove element(s) from instance and DOM\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.remove = function (elems) {\n    var removeItems = this.getItems(elems);\n\n    this._emitCompleteOnItems('remove', removeItems); // bail if no items to remove\n\n\n    if (!removeItems || !removeItems.length) {\n      return;\n    }\n\n    removeItems.forEach(function (item) {\n      item.remove(); // remove item from collection\n\n      utils.removeFrom(this.items, item);\n    }, this);\n  }; // ----- destroy ----- //\n  // remove and disable Outlayer instance\n\n\n  proto.destroy = function () {\n    // clean up dynamic styles\n    var style = this.element.style;\n    style.height = '';\n    style.position = '';\n    style.width = ''; // destroy items\n\n    this.items.forEach(function (item) {\n      item.destroy();\n    });\n    this.unbindResize();\n    var id = this.element.outlayerGUID;\n    delete instances[id]; // remove reference to instance by id\n\n    delete this.element.outlayerGUID; // remove data for jQuery\n\n    if (jQuery) {\n      jQuery.removeData(this.element, this.constructor.namespace);\n    }\n  }; // -------------------------- data -------------------------- //\n\n  /**\n   * get Outlayer instance from element\n   * @param {Element} elem\n   * @returns {Outlayer}\n   */\n\n\n  Outlayer.data = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var id = elem && elem.outlayerGUID;\n    return id && instances[id];\n  }; // -------------------------- create Outlayer class -------------------------- //\n\n  /**\n   * create a layout class\n   * @param {String} namespace\n   */\n\n\n  Outlayer.create = function (namespace, options) {\n    // sub-class Outlayer\n    var Layout = subclass(Outlayer); // apply new options and compatOptions\n\n    Layout.defaults = utils.extend({}, Outlayer.defaults);\n    utils.extend(Layout.defaults, options);\n    Layout.compatOptions = utils.extend({}, Outlayer.compatOptions);\n    Layout.namespace = namespace;\n    Layout.data = Outlayer.data; // sub-class Item\n\n    Layout.Item = subclass(Item); // -------------------------- declarative -------------------------- //\n\n    utils.htmlInit(Layout, namespace); // -------------------------- jQuery bridge -------------------------- //\n    // make into jQuery plugin\n\n    if (jQuery && jQuery.bridget) {\n      jQuery.bridget(namespace, Layout);\n    }\n\n    return Layout;\n  };\n\n  function subclass(Parent) {\n    function SubClass() {\n      Parent.apply(this, arguments);\n    }\n\n    SubClass.prototype = Object.create(Parent.prototype);\n    SubClass.prototype.constructor = SubClass;\n    return SubClass;\n  } // ----- helpers ----- //\n  // how many milliseconds are in each unit\n\n\n  var msUnits = {\n    ms: 1,\n    s: 1000\n  }; // munge time-like parameter into millisecond number\n  // '0.4s' -> 40\n\n  function getMilliseconds(time) {\n    if (typeof time == 'number') {\n      return time;\n    }\n\n    var matches = time.match(/(^\\d*\\.?\\d*)(\\w*)/);\n    var num = matches && matches[1];\n    var unit = matches && matches[2];\n\n    if (!num.length) {\n      return 0;\n    }\n\n    num = parseFloat(num);\n    var mult = msUnits[unit] || 1;\n    return num * mult;\n  } // ----- fin ----- //\n  // back in global\n\n\n  Outlayer.Item = Item;\n  return Outlayer;\n});","/**\n * Isotope LayoutMode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['get-size/get-size', 'outlayer/outlayer'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('get-size'), require('outlayer'));\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(window.getSize, window.Outlayer);\n  }\n})(window, function factory(getSize, Outlayer) {\n  'use strict'; // layout mode class\n\n  function LayoutMode(isotope) {\n    this.isotope = isotope; // link properties\n\n    if (isotope) {\n      this.options = isotope.options[this.namespace];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n\n  var facadeMethods = ['_resetLayout', '_getItemLayoutPosition', '_manageStamp', '_getContainerSize', '_getElementOffset', 'needsResizeLayout', '_getOption'];\n  facadeMethods.forEach(function (methodName) {\n    proto[methodName] = function () {\n      return Outlayer.prototype[methodName].apply(this.isotope, arguments);\n    };\n  }); // -----  ----- //\n  // for horizontal layout modes, check vertical size\n\n  proto.needsVerticalResizeLayout = function () {\n    // don't trigger if size did not change\n    var size = getSize(this.isotope.element); // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  }; // ----- measurements ----- //\n\n\n  proto._getMeasurement = function () {\n    this.isotope._getMeasurement.apply(this, arguments);\n  };\n\n  proto.getColumnWidth = function () {\n    this.getSegmentSize('column', 'Width');\n  };\n\n  proto.getRowHeight = function () {\n    this.getSegmentSize('row', 'Height');\n  };\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n\n\n  proto.getSegmentSize = function (segment, size) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size; // columnWidth / outerWidth // rowHeight / outerHeight\n\n    this._getMeasurement(segmentName, outerSize); // got rowHeight or columnWidth, we can chill\n\n\n    if (this[segmentName]) {\n      return;\n    } // fall back to item of first element\n\n\n    var firstItemSize = this.getFirstItemSize();\n    this[segmentName] = firstItemSize && firstItemSize[outerSize] || // or size of container\n    this.isotope.size['inner' + size];\n  };\n\n  proto.getFirstItemSize = function () {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize(firstItem.element);\n  }; // ----- methods that should reference isotope ----- //\n\n\n  proto.layout = function () {\n    this.isotope.layout.apply(this.isotope, arguments);\n  };\n\n  proto.getSize = function () {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  }; // -------------------------- create -------------------------- //\n\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function (namespace, options) {\n    function Mode() {\n      LayoutMode.apply(this, arguments);\n    }\n\n    Mode.prototype = Object.create(proto);\n    Mode.prototype.constructor = Mode; // default options\n\n    if (options) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace; // register in Isotope\n\n    LayoutMode.modes[namespace] = Mode;\n    return Mode;\n  };\n\n  return LayoutMode;\n});","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n(function (window, factory) {\n  // universal module definition\n\n  /*jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['desandro-matches-selector/matches-selector'], function (matchesSelector) {\n      return factory(window, matchesSelector);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('desandro-matches-selector'));\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(window, window.matchesSelector);\n  }\n})(window, function factory(window, matchesSelector) {\n  'use strict';\n\n  var utils = {}; // ----- extend ----- //\n  // extends objects\n\n  utils.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }; // ----- modulo ----- //\n\n\n  utils.modulo = function (num, div) {\n    return (num % div + div) % div;\n  }; // ----- makeArray ----- //\n\n\n  var arraySlice = Array.prototype.slice; // turn element or nodeList into an array\n\n  utils.makeArray = function (obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    } // return empty array if undefined or null. #6\n\n\n    if (obj === null || obj === undefined) {\n      return [];\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    } // array of single index\n\n\n    return [obj];\n  }; // ----- removeFrom ----- //\n\n\n  utils.removeFrom = function (ary, obj) {\n    var index = ary.indexOf(obj);\n\n    if (index != -1) {\n      ary.splice(index, 1);\n    }\n  }; // ----- getParent ----- //\n\n\n  utils.getParent = function (elem, selector) {\n    while (elem.parentNode && elem != document.body) {\n      elem = elem.parentNode;\n\n      if (matchesSelector(elem, selector)) {\n        return elem;\n      }\n    }\n  }; // ----- getQueryElement ----- //\n  // use element as selector string\n\n\n  utils.getQueryElement = function (elem) {\n    if (typeof elem == 'string') {\n      return document.querySelector(elem);\n    }\n\n    return elem;\n  }; // ----- handleEvent ----- //\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n\n\n  utils.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  }; // ----- filterFindElements ----- //\n\n\n  utils.filterFindElements = function (elems, selector) {\n    // make array of elems\n    elems = utils.makeArray(elems);\n    var ffElems = [];\n    elems.forEach(function (elem) {\n      // check that elem is an actual element\n      if (!(elem instanceof HTMLElement)) {\n        return;\n      } // add elem if no selector\n\n\n      if (!selector) {\n        ffElems.push(elem);\n        return;\n      } // filter & find items if we have a selector\n      // filter\n\n\n      if (matchesSelector(elem, selector)) {\n        ffElems.push(elem);\n      } // find children\n\n\n      var childElems = elem.querySelectorAll(selector); // concat childElems to filterFound array\n\n      for (var i = 0; i < childElems.length; i++) {\n        ffElems.push(childElems[i]);\n      }\n    });\n    return ffElems;\n  }; // ----- debounceMethod ----- //\n\n\n  utils.debounceMethod = function (_class, methodName, threshold) {\n    threshold = threshold || 100; // original method\n\n    var method = _class.prototype[methodName];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[methodName] = function () {\n      var timeout = this[timeoutName];\n      clearTimeout(timeout);\n      var args = arguments;\n\n      var _this = this;\n\n      this[timeoutName] = setTimeout(function () {\n        method.apply(_this, args);\n        delete _this[timeoutName];\n      }, threshold);\n    };\n  }; // ----- docReady ----- //\n\n\n  utils.docReady = function (callback) {\n    var readyState = document.readyState;\n\n    if (readyState == 'complete' || readyState == 'interactive') {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout(callback);\n    } else {\n      document.addEventListener('DOMContentLoaded', callback);\n    }\n  }; // ----- htmlInit ----- //\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n\n\n  utils.toDashed = function (str) {\n    return str.replace(/(.)([A-Z])/g, function (match, $1, $2) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n\n  utils.htmlInit = function (WidgetClass, namespace) {\n    utils.docReady(function () {\n      var dashedNamespace = utils.toDashed(namespace);\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');\n      var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);\n      var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n      elems.forEach(function (elem) {\n        var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);\n        var options;\n\n        try {\n          options = attr && JSON.parse(attr);\n        } catch (error) {\n          // log error, do not initialize\n          if (console) {\n            console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);\n          }\n\n          return;\n        } // initialize\n\n\n        var instance = new WidgetClass(elem, options); // make available via $().data('namespace')\n\n        if (jQuery) {\n          jQuery.data(elem, namespace, instance);\n        }\n      });\n    });\n  }; // -----  ----- //\n\n\n  return utils;\n});","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n(function (window, factory) {\n  /*global define: false, module: false */\n  'use strict'; // universal module definition\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  var matchesMethod = function () {\n    var ElemProto = window.Element.prototype; // check for the standard method name first\n\n    if (ElemProto.matches) {\n      return 'matches';\n    } // check un-prefixed\n\n\n    if (ElemProto.matchesSelector) {\n      return 'matchesSelector';\n    } // check vendor prefixes\n\n\n    var prefixes = ['webkit', 'moz', 'ms', 'o'];\n\n    for (var i = 0; i < prefixes.length; i++) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n\n      if (ElemProto[method]) {\n        return method;\n      }\n    }\n  }();\n\n  return function matchesSelector(elem, selector) {\n    return elem[matchesMethod](selector);\n  };\n});","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/**\n * Outlayer Item\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(['ev-emitter/ev-emitter', 'get-size/get-size'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(require('ev-emitter'), require('get-size'));\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(window.EvEmitter, window.getSize);\n  }\n})(window, function factory(EvEmitter, getSize) {\n  'use strict'; // ----- helpers ----- //\n\n  function isEmptyObj(obj) {\n    for (var prop in obj) {\n      return false;\n    }\n\n    prop = null;\n    return true;\n  } // -------------------------- CSS3 support -------------------------- //\n\n\n  var docElemStyle = document.documentElement.style;\n  var transitionProperty = typeof docElemStyle.transition == 'string' ? 'transition' : 'WebkitTransition';\n  var transformProperty = typeof docElemStyle.transform == 'string' ? 'transform' : 'WebkitTransform';\n  var transitionEndEvent = {\n    WebkitTransition: 'webkitTransitionEnd',\n    transition: 'transitionend'\n  }[transitionProperty]; // cache all vendor properties that could have vendor prefix\n\n  var vendorProperties = {\n    transform: transformProperty,\n    transition: transitionProperty,\n    transitionDuration: transitionProperty + 'Duration',\n    transitionProperty: transitionProperty + 'Property',\n    transitionDelay: transitionProperty + 'Delay'\n  }; // -------------------------- Item -------------------------- //\n\n  function Item(element, layout) {\n    if (!element) {\n      return;\n    }\n\n    this.element = element; // parent layout class, i.e. Masonry, Isotope, or Packery\n\n    this.layout = layout;\n    this.position = {\n      x: 0,\n      y: 0\n    };\n\n    this._create();\n  } // inherit EvEmitter\n\n\n  var proto = Item.prototype = Object.create(EvEmitter.prototype);\n  proto.constructor = Item;\n\n  proto._create = function () {\n    // transition objects\n    this._transn = {\n      ingProperties: {},\n      clean: {},\n      onEnd: {}\n    };\n    this.css({\n      position: 'absolute'\n    });\n  }; // trigger specified handler for event type\n\n\n  proto.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n  /**\n   * apply CSS styles to element\n   * @param {Object} style\n   */\n\n\n  proto.css = function (style) {\n    var elemStyle = this.element.style;\n\n    for (var prop in style) {\n      // use vendor property if available\n      var supportedProp = vendorProperties[prop] || prop;\n      elemStyle[supportedProp] = style[prop];\n    }\n  }; // measure position, and sets it\n\n\n  proto.getPosition = function () {\n    var style = getComputedStyle(this.element);\n\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop');\n\n    var xValue = style[isOriginLeft ? 'left' : 'right'];\n    var yValue = style[isOriginTop ? 'top' : 'bottom'];\n    var x = parseFloat(xValue);\n    var y = parseFloat(yValue); // convert percent to pixels\n\n    var layoutSize = this.layout.size;\n\n    if (xValue.indexOf('%') != -1) {\n      x = x / 100 * layoutSize.width;\n    }\n\n    if (yValue.indexOf('%') != -1) {\n      y = y / 100 * layoutSize.height;\n    } // clean up 'auto' or other non-integer values\n\n\n    x = isNaN(x) ? 0 : x;\n    y = isNaN(y) ? 0 : y; // remove padding from measurement\n\n    x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n    y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n    this.position.x = x;\n    this.position.y = y;\n  }; // set settled position, apply padding\n\n\n  proto.layoutPosition = function () {\n    var layoutSize = this.layout.size;\n    var style = {};\n\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop'); // x\n\n\n    var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n    var xProperty = isOriginLeft ? 'left' : 'right';\n    var xResetProperty = isOriginLeft ? 'right' : 'left';\n    var x = this.position.x + layoutSize[xPadding]; // set in percentage or pixels\n\n    style[xProperty] = this.getXValue(x); // reset other property\n\n    style[xResetProperty] = ''; // y\n\n    var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n    var yProperty = isOriginTop ? 'top' : 'bottom';\n    var yResetProperty = isOriginTop ? 'bottom' : 'top';\n    var y = this.position.y + layoutSize[yPadding]; // set in percentage or pixels\n\n    style[yProperty] = this.getYValue(y); // reset other property\n\n    style[yResetProperty] = '';\n    this.css(style);\n    this.emitEvent('layout', [this]);\n  };\n\n  proto.getXValue = function (x) {\n    var isHorizontal = this.layout._getOption('horizontal');\n\n    return this.layout.options.percentPosition && !isHorizontal ? x / this.layout.size.width * 100 + '%' : x + 'px';\n  };\n\n  proto.getYValue = function (y) {\n    var isHorizontal = this.layout._getOption('horizontal');\n\n    return this.layout.options.percentPosition && isHorizontal ? y / this.layout.size.height * 100 + '%' : y + 'px';\n  };\n\n  proto._transitionTo = function (x, y) {\n    this.getPosition(); // get current x & y from top/left\n\n    var curX = this.position.x;\n    var curY = this.position.y;\n    var didNotMove = x == this.position.x && y == this.position.y; // save end position\n\n    this.setPosition(x, y); // if did not move and not transitioning, just go to layout\n\n    if (didNotMove && !this.isTransitioning) {\n      this.layoutPosition();\n      return;\n    }\n\n    var transX = x - curX;\n    var transY = y - curY;\n    var transitionStyle = {};\n    transitionStyle.transform = this.getTranslate(transX, transY);\n    this.transition({\n      to: transitionStyle,\n      onTransitionEnd: {\n        transform: this.layoutPosition\n      },\n      isCleaning: true\n    });\n  };\n\n  proto.getTranslate = function (x, y) {\n    // flip cooridinates if origin on right or bottom\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop');\n\n    x = isOriginLeft ? x : -x;\n    y = isOriginTop ? y : -y;\n    return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n  }; // non transition + transform support\n\n\n  proto.goTo = function (x, y) {\n    this.setPosition(x, y);\n    this.layoutPosition();\n  };\n\n  proto.moveTo = proto._transitionTo;\n\n  proto.setPosition = function (x, y) {\n    this.position.x = parseFloat(x);\n    this.position.y = parseFloat(y);\n  }; // ----- transition ----- //\n\n  /**\n   * @param {Object} style - CSS\n   * @param {Function} onTransitionEnd\n   */\n  // non transition, just trigger callback\n\n\n  proto._nonTransition = function (args) {\n    this.css(args.to);\n\n    if (args.isCleaning) {\n      this._removeStyles(args.to);\n    }\n\n    for (var prop in args.onTransitionEnd) {\n      args.onTransitionEnd[prop].call(this);\n    }\n  };\n  /**\n   * proper transition\n   * @param {Object} args - arguments\n   *   @param {Object} to - style to transition to\n   *   @param {Object} from - style to start transition from\n   *   @param {Boolean} isCleaning - removes transition styles after transition\n   *   @param {Function} onTransitionEnd - callback\n   */\n\n\n  proto.transition = function (args) {\n    // redirect to nonTransition if no transition duration\n    if (!parseFloat(this.layout.options.transitionDuration)) {\n      this._nonTransition(args);\n\n      return;\n    }\n\n    var _transition = this._transn; // keep track of onTransitionEnd callback by css property\n\n    for (var prop in args.onTransitionEnd) {\n      _transition.onEnd[prop] = args.onTransitionEnd[prop];\n    } // keep track of properties that are transitioning\n\n\n    for (prop in args.to) {\n      _transition.ingProperties[prop] = true; // keep track of properties to clean up when transition is done\n\n      if (args.isCleaning) {\n        _transition.clean[prop] = true;\n      }\n    } // set from styles\n\n\n    if (args.from) {\n      this.css(args.from); // force redraw. http://blog.alexmaccaw.com/css-transitions\n\n      var h = this.element.offsetHeight; // hack for JSHint to hush about unused var\n\n      h = null;\n    } // enable transition\n\n\n    this.enableTransition(args.to); // set styles that are transitioning\n\n    this.css(args.to);\n    this.isTransitioning = true;\n  }; // dash before all cap letters, including first for\n  // WebkitTransform => -webkit-transform\n\n\n  function toDashedAll(str) {\n    return str.replace(/([A-Z])/g, function ($1) {\n      return '-' + $1.toLowerCase();\n    });\n  }\n\n  var transitionProps = 'opacity,' + toDashedAll(transformProperty);\n\n  proto.enableTransition = function ()\n  /* style */\n  {\n    // HACK changing transitionProperty during a transition\n    // will cause transition to jump\n    if (this.isTransitioning) {\n      return;\n    } // make `transition: foo, bar, baz` from style object\n    // HACK un-comment this when enableTransition can work\n    // while a transition is happening\n    // var transitionValues = [];\n    // for ( var prop in style ) {\n    //   // dash-ify camelCased properties like WebkitTransition\n    //   prop = vendorProperties[ prop ] || prop;\n    //   transitionValues.push( toDashedAll( prop ) );\n    // }\n    // munge number to millisecond, to match stagger\n\n\n    var duration = this.layout.options.transitionDuration;\n    duration = typeof duration == 'number' ? duration + 'ms' : duration; // enable transition styles\n\n    this.css({\n      transitionProperty: transitionProps,\n      transitionDuration: duration,\n      transitionDelay: this.staggerDelay || 0\n    }); // listen for transition end event\n\n    this.element.addEventListener(transitionEndEvent, this, false);\n  }; // ----- events ----- //\n\n\n  proto.onwebkitTransitionEnd = function (event) {\n    this.ontransitionend(event);\n  };\n\n  proto.onotransitionend = function (event) {\n    this.ontransitionend(event);\n  }; // properties that I munge to make my life easier\n\n\n  var dashedVendorProperties = {\n    '-webkit-transform': 'transform'\n  };\n\n  proto.ontransitionend = function (event) {\n    // disregard bubbled events from children\n    if (event.target !== this.element) {\n      return;\n    }\n\n    var _transition = this._transn; // get property name of transitioned property, convert to prefix-free\n\n    var propertyName = dashedVendorProperties[event.propertyName] || event.propertyName; // remove property that has completed transitioning\n\n    delete _transition.ingProperties[propertyName]; // check if any properties are still transitioning\n\n    if (isEmptyObj(_transition.ingProperties)) {\n      // all properties have completed transitioning\n      this.disableTransition();\n    } // clean style\n\n\n    if (propertyName in _transition.clean) {\n      // clean up style\n      this.element.style[event.propertyName] = '';\n      delete _transition.clean[propertyName];\n    } // trigger onTransitionEnd callback\n\n\n    if (propertyName in _transition.onEnd) {\n      var onTransitionEnd = _transition.onEnd[propertyName];\n      onTransitionEnd.call(this);\n      delete _transition.onEnd[propertyName];\n    }\n\n    this.emitEvent('transitionEnd', [this]);\n  };\n\n  proto.disableTransition = function () {\n    this.removeTransitionStyles();\n    this.element.removeEventListener(transitionEndEvent, this, false);\n    this.isTransitioning = false;\n  };\n  /**\n   * removes style property from element\n   * @param {Object} style\n  **/\n\n\n  proto._removeStyles = function (style) {\n    // clean up transition styles\n    var cleanStyle = {};\n\n    for (var prop in style) {\n      cleanStyle[prop] = '';\n    }\n\n    this.css(cleanStyle);\n  };\n\n  var cleanTransitionStyle = {\n    transitionProperty: '',\n    transitionDuration: '',\n    transitionDelay: ''\n  };\n\n  proto.removeTransitionStyles = function () {\n    // remove transition\n    this.css(cleanTransitionStyle);\n  }; // ----- stagger ----- //\n\n\n  proto.stagger = function (delay) {\n    delay = isNaN(delay) ? 0 : delay;\n    this.staggerDelay = delay + 'ms';\n  }; // ----- show/hide/remove ----- //\n  // remove element from DOM\n\n\n  proto.removeElem = function () {\n    this.element.parentNode.removeChild(this.element); // remove display: none\n\n    this.css({\n      display: ''\n    });\n    this.emitEvent('remove', [this]);\n  };\n\n  proto.remove = function () {\n    // just remove element if no transition support or no transition\n    if (!transitionProperty || !parseFloat(this.layout.options.transitionDuration)) {\n      this.removeElem();\n      return;\n    } // start transition\n\n\n    this.once('transitionEnd', function () {\n      this.removeElem();\n    });\n    this.hide();\n  };\n\n  proto.reveal = function () {\n    delete this.isHidden; // remove display: none\n\n    this.css({\n      display: ''\n    });\n    var options = this.layout.options;\n    var onTransitionEnd = {};\n    var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n    onTransitionEnd[transitionEndProperty] = this.onRevealTransitionEnd;\n    this.transition({\n      from: options.hiddenStyle,\n      to: options.visibleStyle,\n      isCleaning: true,\n      onTransitionEnd: onTransitionEnd\n    });\n  };\n\n  proto.onRevealTransitionEnd = function () {\n    // check if still visible\n    // during transition, item may have been hidden\n    if (!this.isHidden) {\n      this.emitEvent('reveal');\n    }\n  };\n  /**\n   * get style property use for hide/reveal transition end\n   * @param {String} styleProperty - hiddenStyle/visibleStyle\n   * @returns {String}\n   */\n\n\n  proto.getHideRevealTransitionEndProperty = function (styleProperty) {\n    var optionStyle = this.layout.options[styleProperty]; // use opacity\n\n    if (optionStyle.opacity) {\n      return 'opacity';\n    } // get first property\n\n\n    for (var prop in optionStyle) {\n      return prop;\n    }\n  };\n\n  proto.hide = function () {\n    // set flag\n    this.isHidden = true; // remove display: none\n\n    this.css({\n      display: ''\n    });\n    var options = this.layout.options;\n    var onTransitionEnd = {};\n    var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n    onTransitionEnd[transitionEndProperty] = this.onHideTransitionEnd;\n    this.transition({\n      from: options.visibleStyle,\n      to: options.hiddenStyle,\n      // keep hidden stuff hidden\n      isCleaning: true,\n      onTransitionEnd: onTransitionEnd\n    });\n  };\n\n  proto.onHideTransitionEnd = function () {\n    // check if still hidden\n    // during transition, item may have been un-hidden\n    if (this.isHidden) {\n      this.css({\n        display: 'none'\n      });\n      this.emitEvent('hide');\n    }\n  };\n\n  proto.destroy = function () {\n    this.css({\n      position: '',\n      left: '',\n      right: '',\n      top: '',\n      bottom: '',\n      transition: '',\n      transform: ''\n    });\n  };\n\n  return Item;\n});","/**\n * Isotope Item\n**/\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('outlayer'));\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(window.Outlayer);\n  }\n})(window, function factory(Outlayer) {\n  'use strict'; // -------------------------- Item -------------------------- //\n  // sub-class Outlayer Item\n\n  function Item() {\n    Outlayer.Item.apply(this, arguments);\n  }\n\n  var proto = Item.prototype = Object.create(Outlayer.Item.prototype);\n  var _create = proto._create;\n\n  proto._create = function () {\n    // assign id, used for original-order sorting\n    this.id = this.layout.itemGUID++;\n\n    _create.call(this);\n\n    this.sortData = {};\n  };\n\n  proto.updateSortData = function () {\n    if (this.isIgnored) {\n      return;\n    } // default sorters\n\n\n    this.sortData.id = this.id; // for backward compatibility\n\n    this.sortData['original-order'] = this.id;\n    this.sortData.random = Math.random(); // go thru getSortData obj and apply the sorters\n\n    var getSortData = this.layout.options.getSortData;\n    var sorters = this.layout._sorters;\n\n    for (var key in getSortData) {\n      var sorter = sorters[key];\n      this.sortData[key] = sorter(this.element, this);\n    }\n  };\n\n  var _destroy = proto.destroy;\n\n  proto.destroy = function () {\n    // call super\n    _destroy.apply(this, arguments); // reset display, #741\n\n\n    this.css({\n      display: ''\n    });\n  };\n\n  return Item;\n});","/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode', 'masonry-layout/masonry'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'), require('masonry-layout'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode, window.Masonry);\n  }\n})(window, function factory(LayoutMode, Masonry) {\n  'use strict'; // -------------------------- masonryDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var MasonryMode = LayoutMode.create('masonry');\n  var proto = MasonryMode.prototype;\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  }; // inherit Masonry prototype\n\n  for (var method in Masonry.prototype) {\n    // do not inherit mode methods\n    if (!keepModeMethods[method]) {\n      proto[method] = Masonry.prototype[method];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n\n  proto.measureColumns = function () {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call(this);\n  }; // point to mode options for fitWidth\n\n\n  var _getOption = proto._getOption;\n\n  proto._getOption = function (option) {\n    if (option == 'fitWidth') {\n      return this.options.isFitWidth !== undefined ? this.options.isFitWidth : this.options.fitWidth;\n    }\n\n    return _getOption.apply(this.isotope, arguments);\n  };\n\n  return MasonryMode;\n});","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer', 'get-size/get-size'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('outlayer'), require('get-size'));\n  } else {\n    // browser global\n    window.Masonry = factory(window.Outlayer, window.getSize);\n  }\n})(window, function factory(Outlayer, getSize) {\n  'use strict'; // -------------------------- masonryDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var Masonry = Outlayer.create('masonry'); // isFitWidth -> fitWidth\n\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function () {\n    this.getSize();\n\n    this._getMeasurement('columnWidth', 'outerWidth');\n\n    this._getMeasurement('gutter', 'outerWidth');\n\n    this.measureColumns(); // reset column Y\n\n    this.colYs = [];\n\n    for (var i = 0; i < this.cols; i++) {\n      this.colYs.push(0);\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function () {\n    this.getContainerWidth(); // if columnWidth is 0, default to outerWidth of first item\n\n    if (!this.columnWidth) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element; // columnWidth fall back to item of first element\n\n      this.columnWidth = firstItemElem && getSize(firstItemElem).outerWidth || // if first elem has no width, default to size of container\n      this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter; // calculate columns\n\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth; // fix rounding errors, typically with gutters\n\n    var excess = columnWidth - containerWidth % columnWidth; // if overshoot is less than a pixel, round up, otherwise floor it\n\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[mathMethod](cols);\n    this.cols = Math.max(cols, 1);\n  };\n\n  proto.getContainerWidth = function () {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n\n    var container = isFitWidth ? this.element.parentNode : this.element; // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var size = getSize(container);\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize(); // how many columns does this brick span\n\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil'; // round if off by 1 pixel, otherwise use ceil\n\n    var colSpan = Math[mathMethod](item.size.outerWidth / this.columnWidth);\n    colSpan = Math.min(colSpan, this.cols); // use horizontal or top column position\n\n    var colPosMethod = this.options.horizontalOrder ? '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[colPosMethod](colSpan, item); // position the brick\n\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    }; // apply setHeight to necessary columns\n\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n\n    for (var i = colPosition.col; i < setMax; i++) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function (colSpan) {\n    var colGroup = this._getTopColGroup(colSpan); // get the minimum Y value from the columns\n\n\n    var minimumY = Math.min.apply(Math, colGroup);\n    return {\n      col: colGroup.indexOf(minimumY),\n      y: minimumY\n    };\n  };\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n\n\n  proto._getTopColGroup = function (colSpan) {\n    if (colSpan < 2) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = []; // how many different places could this brick fit horizontally\n\n    var groupCount = this.cols + 1 - colSpan; // for each group potential horizontal position\n\n    for (var i = 0; i < groupCount; i++) {\n      colGroup[i] = this._getColGroupY(i, colSpan);\n    }\n\n    return colGroup;\n  };\n\n  proto._getColGroupY = function (col, colSpan) {\n    if (colSpan < 2) {\n      return this.colYs[col];\n    } // make an array of colY values for that one group\n\n\n    var groupColYs = this.colYs.slice(col, col + colSpan); // and get the max value of the array\n\n    return Math.max.apply(Math, groupColYs);\n  }; // get column position based on horizontal index. #873\n\n\n  proto._getHorizontalColPosition = function (colSpan, item) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols; // shift to next row if item can't fit on current row\n\n    col = isOver ? 0 : col; // don't let zero-size items take up space\n\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n    return {\n      col: col,\n      y: this._getColGroupY(col, colSpan)\n    };\n  };\n\n  proto._manageStamp = function (stamp) {\n    var stampSize = getSize(stamp);\n\n    var offset = this._getElementOffset(stamp); // get the columns that this stamp affects\n\n\n    var isOriginLeft = this._getOption('originLeft');\n\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor(firstX / this.columnWidth);\n    firstCol = Math.max(0, firstCol);\n    var lastCol = Math.floor(lastX / this.columnWidth); // lastCol should not go over if multiple of columnWidth #425\n\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min(this.cols - 1, lastCol); // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n\n    var stampMaxY = (isOriginTop ? offset.top : offset.bottom) + stampSize.outerHeight;\n\n    for (var i = firstCol; i <= lastCol; i++) {\n      this.colYs[i] = Math.max(stampMaxY, this.colYs[i]);\n    }\n  };\n\n  proto._getContainerSize = function () {\n    this.maxY = Math.max.apply(Math, this.colYs);\n    var size = {\n      height: this.maxY\n    };\n\n    if (this._getOption('fitWidth')) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function () {\n    var unusedCols = 0; // count unused columns\n\n    var i = this.cols;\n\n    while (--i) {\n      if (this.colYs[i] !== 0) {\n        break;\n      }\n\n      unusedCols++;\n    } // fit container to columns that have been used\n\n\n    return (this.cols - unusedCols) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function () {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n});","/**\n * fitRows layout mode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode'], factory);\n  } else if (typeof exports == 'object') {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode);\n  }\n})(window, function factory(LayoutMode) {\n  'use strict';\n\n  var FitRows = LayoutMode.create('fitRows');\n  var proto = FitRows.prototype;\n\n  proto._resetLayout = function () {\n    this.x = 0;\n    this.y = 0;\n    this.maxY = 0;\n\n    this._getMeasurement('gutter', 'outerWidth');\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize();\n    var itemWidth = item.size.outerWidth + this.gutter; // if this element cannot fit in the current row\n\n    var containerWidth = this.isotope.size.innerWidth + this.gutter;\n\n    if (this.x !== 0 && itemWidth + this.x > containerWidth) {\n      this.x = 0;\n      this.y = this.maxY;\n    }\n\n    var position = {\n      x: this.x,\n      y: this.y\n    };\n    this.maxY = Math.max(this.maxY, this.y + item.size.outerHeight);\n    this.x += itemWidth;\n    return position;\n  };\n\n  proto._getContainerSize = function () {\n    return {\n      height: this.maxY\n    };\n  };\n\n  return FitRows;\n});","/**\n * vertical layout mode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode);\n  }\n})(window, function factory(LayoutMode) {\n  'use strict';\n\n  var Vertical = LayoutMode.create('vertical', {\n    horizontalAlignment: 0\n  });\n  var proto = Vertical.prototype;\n\n  proto._resetLayout = function () {\n    this.y = 0;\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize();\n    var x = (this.isotope.size.innerWidth - item.size.outerWidth) * this.options.horizontalAlignment;\n    var y = this.y;\n    this.y += item.size.outerHeight;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  proto._getContainerSize = function () {\n    return {\n      height: this.y\n    };\n  };\n\n  return Vertical;\n});","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nvar getScrollParent = function getScrollParent(node) {\n  var parent = node;\n\n  while (parent = parent.parentElement) {\n    var overflowYVal = getComputedStyle(parent, null).getPropertyValue(\"overflow-y\");\n    if (parent === document.body) return window;\n    if (overflowYVal === \"auto\" || overflowYVal === \"scroll\") return parent;\n  }\n\n  return window;\n};\n\nvar offsetTill = function offsetTill(node, target) {\n  var current = node;\n  var offset = 0; // If target is not an offsetParent itself, subtract its offsetTop and set correct target\n\n  if (target.firstChild && target.firstChild.offsetParent !== target) {\n    offset += node.offsetTop - target.offsetTop;\n    target = node.offsetParent;\n    offset += -node.offsetTop;\n  }\n\n  do {\n    offset += current.offsetTop;\n    current = current.offsetParent;\n  } while (current && current !== target);\n\n  return offset;\n};\n\nvar stickyProp = null;\n\nif (typeof CSS !== \"undefined\" && CSS.supports) {\n  if (CSS.supports(\"position\", \"sticky\")) stickyProp = \"sticky\";else if (CSS.supports(\"position\", \"-webkit-sticky\")) stickyProp = \"-webkit-sticky\";\n} // Inspired by https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n\n\nvar passiveArg = false;\n\ntry {\n  var opts = Object.defineProperty({}, \"passive\", {\n    // eslint-disable-next-line getter-return\n    get: function get() {\n      passiveArg = {\n        passive: true\n      };\n    }\n  });\n  window.addEventListener(\"testPassive\", null, opts);\n  window.removeEventListener(\"testPassive\", null, opts);\n} catch (e) {}\n\nvar StickyBox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(StickyBox, _React$Component);\n\n  function StickyBox(props) {\n    var _this = _React$Component.call(this, props) || this;\n\n    _this.addListener = function (element, event, handler, passive) {\n      element.addEventListener(event, handler, passive);\n\n      _this.unsubscribes.push(function () {\n        return element.removeEventListener(event, handler);\n      });\n    };\n\n    _this.addResizeObserver = function (node, handler) {\n      var ro = new ResizeObserver(handler);\n      ro.observe(node);\n\n      _this.unsubscribes.push(function () {\n        return ro.disconnect();\n      });\n    };\n\n    _this.registerContainerRef = function (n) {\n      if (!stickyProp) return;\n      _this.node = n;\n\n      if (n) {\n        _this.scrollPane = getScrollParent(_this.node);\n        _this.latestScrollY = _this.scrollPane === window ? window.scrollY : _this.scrollPane.scrollTop;\n\n        _this.addListener(_this.scrollPane, \"scroll\", _this.handleScroll, passiveArg);\n\n        _this.addListener(_this.scrollPane, \"mousewheel\", _this.handleScroll, passiveArg);\n\n        if (_this.scrollPane === window) {\n          _this.addListener(window, \"resize\", _this.handleWindowResize);\n\n          _this.handleWindowResize();\n        } else {\n          _this.addResizeObserver(_this.scrollPane, _this.handleScrollPaneResize);\n\n          _this.handleScrollPaneResize();\n        }\n\n        _this.addResizeObserver(_this.node.parentNode, _this.handleParentNodeResize);\n\n        _this.handleParentNodeResize();\n\n        _this.addResizeObserver(_this.node, _this.handleNodeResize);\n\n        _this.handleNodeResize({\n          initial: true\n        });\n\n        _this.initial();\n      } else {\n        _this.unsubscribes.forEach(function (fn) {\n          return fn();\n        });\n\n        _this.unsubscribes = [];\n        _this.scrollPane = null;\n      }\n    };\n\n    _this.getCurrentOffset = function () {\n      if (_this.mode === \"relative\") return _this.offset;\n      var _this$props = _this.props,\n          offsetTop = _this$props.offsetTop,\n          offsetBottom = _this$props.offsetBottom;\n\n      if (_this.mode === \"stickyTop\") {\n        return Math.max(0, _this.scrollPaneOffset + _this.latestScrollY - _this.naturalTop + offsetTop);\n      }\n\n      if (_this.mode === \"stickyBottom\") {\n        return Math.max(0, _this.scrollPaneOffset + _this.latestScrollY + _this.viewPortHeight - (_this.naturalTop + _this.nodeHeight + offsetBottom));\n      }\n    };\n\n    _this.handleWindowResize = function () {\n      _this.viewPortHeight = window.innerHeight;\n      _this.scrollPaneOffset = 0;\n\n      _this.handleScroll();\n    };\n\n    _this.handleScrollPaneResize = function () {\n      _this.viewPortHeight = _this.scrollPane.offsetHeight;\n\n      if (process.env.NODE_ENV !== \"production\" && _this.viewPortHeight === 0) {\n        console.warn(\"react-sticky-box's scroll pane has a height of 0. This seems odd. Please check this node:\", _this.scrollPane);\n      } // Only applicable if scrollPane is an offsetParent\n\n\n      if (_this.scrollPane.firstChild.offsetParent === _this.scrollPane) {\n        _this.scrollPaneOffset = _this.scrollPane.getBoundingClientRect().top;\n      } else {\n        _this.scrollPaneOffset = 0;\n      }\n\n      _this.handleScroll();\n    };\n\n    _this.handleParentNodeResize = function () {\n      var parentNode = _this.node.parentNode;\n      var computedParentStyle = getComputedStyle(parentNode, null);\n      var parentPaddingTop = parseInt(computedParentStyle.getPropertyValue(\"padding-top\"), 10);\n      var parentPaddingBottom = parseInt(computedParentStyle.getPropertyValue(\"padding-bottom\"), 10);\n      _this.naturalTop = offsetTill(parentNode, _this.scrollPane) + parentPaddingTop + _this.scrollPaneOffset;\n      var oldParentHeight = _this.parentHeight;\n      _this.parentHeight = parentNode.getBoundingClientRect().height - (parentPaddingTop + parentPaddingBottom);\n\n      if (_this.mode === \"relative\") {\n        if (_this.props.bottom) {\n          _this.changeMode(\"relative\");\n        } else {\n          // If parent height decreased...\n          if (oldParentHeight > _this.parentHeight) {\n            _this.changeToStickyBottomIfBoxTooLow(_this.latestScrollY);\n          }\n        }\n      }\n\n      if (oldParentHeight !== _this.parentHeight && _this.mode === \"relative\") {\n        _this.latestScrollY = Number.POSITIVE_INFINITY;\n\n        _this.handleScroll();\n      }\n    };\n\n    _this.handleNodeResize = function (_temp) {\n      var _ref = _temp === void 0 ? {} : _temp,\n          initial = _ref.initial;\n\n      var prevHeight = _this.nodeHeight;\n      _this.nodeHeight = _this.node.getBoundingClientRect().height;\n\n      if (!initial && prevHeight !== _this.nodeHeight) {\n        var _this$props2 = _this.props,\n            offsetTop = _this$props2.offsetTop,\n            offsetBottom = _this$props2.offsetBottom,\n            bottom = _this$props2.bottom;\n\n        if (_this.nodeHeight + offsetTop + offsetBottom <= _this.viewPortHeight) {\n          // Just make it sticky if node smaller than viewport\n          _this.mode = undefined;\n\n          _this.initial();\n        } else {\n          var diff = prevHeight - _this.nodeHeight;\n          var lowestPossible = _this.parentHeight - _this.nodeHeight;\n          var nextOffset = Math.min(lowestPossible, _this.getCurrentOffset() + (bottom ? diff : 0));\n          _this.offset = Math.max(0, nextOffset);\n          if (!bottom || _this.mode !== \"stickyBottom\") _this.changeMode(\"relative\");\n        }\n      }\n    };\n\n    _this.handleScroll = function () {\n      var _this$props3 = _this.props,\n          offsetTop = _this$props3.offsetTop,\n          offsetBottom = _this$props3.offsetBottom;\n      var scrollY = _this.scrollPane === window ? window.scrollY : _this.scrollPane.scrollTop;\n      if (scrollY === _this.latestScrollY) return;\n\n      if (_this.nodeHeight + offsetTop + offsetBottom <= _this.viewPortHeight) {\n        // Just make it sticky if node smaller than viewport\n        _this.initial();\n\n        _this.latestScrollY = scrollY;\n        return;\n      }\n\n      var scrollDelta = scrollY - _this.latestScrollY;\n      _this.offset = _this.getCurrentOffset();\n\n      if (scrollDelta > 0) {\n        // scroll down\n        if (_this.mode === \"stickyTop\") {\n          if (scrollY + _this.scrollPaneOffset + offsetTop > _this.naturalTop) {\n            if (scrollY + _this.scrollPaneOffset + _this.viewPortHeight <= _this.naturalTop + _this.nodeHeight + _this.offset + offsetBottom) {\n              _this.changeMode(\"relative\");\n            } else {\n              _this.changeMode(\"stickyBottom\");\n            }\n          }\n        } else if (_this.mode === \"relative\") {\n          _this.changeToStickyBottomIfBoxTooLow(scrollY);\n        }\n      } else {\n        // scroll up\n        if (_this.mode === \"stickyBottom\") {\n          if (_this.scrollPaneOffset + scrollY + _this.viewPortHeight < _this.naturalTop + _this.parentHeight + offsetBottom) {\n            if (_this.scrollPaneOffset + scrollY + offsetTop >= _this.naturalTop + _this.offset) {\n              _this.changeMode(\"relative\");\n            } else {\n              _this.changeMode(\"stickyTop\");\n            }\n          }\n        } else if (_this.mode === \"relative\") {\n          if (_this.scrollPaneOffset + scrollY + offsetTop < _this.naturalTop + _this.offset) {\n            _this.changeMode(\"stickyTop\");\n          }\n        }\n      }\n\n      _this.latestScrollY = scrollY;\n    };\n\n    if (props.offset && process.env.NODE_ENV !== \"production\") {\n      console.warn(\"react-sticky-box's \\\"offset\\\" prop is deprecated. Please use \\\"offsetTop\\\" instead. It'll be removed in v0.8.\");\n    }\n\n    _this.unsubscribes = [];\n    return _this;\n  }\n\n  var _proto = StickyBox.prototype;\n\n  _proto.changeMode = function changeMode(newMode) {\n    var _this$props4 = this.props,\n        onChangeMode = _this$props4.onChangeMode,\n        offsetTop = _this$props4.offsetTop,\n        offsetBottom = _this$props4.offsetBottom,\n        bottom = _this$props4.bottom;\n    if (this.mode !== newMode) onChangeMode(this.mode, newMode);\n    this.mode = newMode;\n\n    if (newMode === \"relative\") {\n      this.node.style.position = \"relative\";\n\n      if (bottom) {\n        var nextBottom = Math.max(0, this.parentHeight - this.nodeHeight - this.offset);\n        this.node.style.bottom = nextBottom + \"px\";\n      } else {\n        this.node.style.top = this.offset + \"px\";\n      }\n    } else {\n      this.node.style.position = stickyProp;\n\n      if (newMode === \"stickyBottom\") {\n        if (bottom) {\n          this.node.style.bottom = offsetBottom + \"px\";\n        } else {\n          this.node.style.top = this.viewPortHeight - this.nodeHeight - offsetBottom + \"px\";\n        }\n      } else {\n        // stickyTop\n        if (bottom) {\n          this.node.style.bottom = this.viewPortHeight - this.nodeHeight - offsetBottom + \"px\";\n        } else {\n          this.node.style.top = offsetTop + \"px\";\n        }\n      }\n    }\n\n    this.offset = this.getCurrentOffset();\n  };\n\n  _proto.initial = function initial() {\n    var bottom = this.props.bottom;\n\n    if (bottom) {\n      if (this.mode !== \"stickyBottom\") this.changeMode(\"stickyBottom\");\n    } else {\n      if (this.mode !== \"stickyTop\") this.changeMode(\"stickyTop\");\n    }\n  };\n\n  _proto.changeToStickyBottomIfBoxTooLow = function changeToStickyBottomIfBoxTooLow(scrollY) {\n    var offsetBottom = this.props.offsetBottom;\n\n    if (scrollY + this.scrollPaneOffset + this.viewPortHeight >= this.naturalTop + this.nodeHeight + this.offset + offsetBottom) {\n      this.changeMode(\"stickyBottom\");\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props5 = this.props,\n        children = _this$props5.children,\n        className = _this$props5.className,\n        style = _this$props5.style;\n    return React.createElement(\"div\", {\n      className: className,\n      style: style,\n      ref: this.registerContainerRef\n    }, children);\n  };\n\n  return StickyBox;\n}(React.Component);\n\nexport { StickyBox as default };\nStickyBox.defaultProps = {\n  onChangeMode: function onChangeMode() {},\n  offsetTop: 0,\n  offsetBottom: 0\n};\nprocess.env.NODE_ENV !== \"production\" ? StickyBox.propTypes = {\n  onChangeMode: PropTypes.func,\n  offsetTop: PropTypes.number,\n  offsetBottom: PropTypes.number,\n  bottom: PropTypes.bool\n} : void 0;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inheritsLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;"],"sourceRoot":""}