{"version":3,"sources":["../node_modules/imagesloaded/imagesloaded.js","../node_modules/isotope-layout/js/isotope.js","../node_modules/ev-emitter/ev-emitter.js","../node_modules/get-size/get-size.js","../node_modules/outlayer/outlayer.js","../node_modules/isotope-layout/js/layout-mode.js","../node_modules/fizzy-ui-utils/utils.js","../node_modules/desandro-matches-selector/matches-selector.js","../node_modules/outlayer/item.js","../node_modules/isotope-layout/js/item.js","../node_modules/isotope-layout/js/layout-modes/masonry.js","../node_modules/masonry-layout/masonry.js","../node_modules/isotope-layout/js/layout-modes/fit-rows.js","../node_modules/isotope-layout/js/layout-modes/vertical.js"],"names":["window","factory","EvEmitter","$","jQuery","console","extend","a","b","prop","arraySlice","Array","prototype","slice","ImagesLoaded","elem","options","onAlways","this","obj","queryElem","document","querySelectorAll","elements","isArray","length","call","on","getImages","jqDeferred","Deferred","setTimeout","check","bind","error","Object","create","images","forEach","addElementImages","nodeName","addImage","background","addElementBackgroundImages","nodeType","elementNodeTypes","childImgs","i","img","children","child","1","9","11","LoadingImage","Background","url","element","Image","style","getComputedStyle","reURL","matches","exec","backgroundImage","addBackground","loadingImage","push","_this","onProgress","image","message","progress","progressedCount","hasAnyBroken","once","complete","isLoaded","emitEvent","notify","debug","log","eventName","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","addEventListener","src","handleEvent","event","method","type","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","fn","imagesLoaded","callback","promise","Outlayer","getSize","matchesSelector","utils","Item","LayoutMode","trim","String","str","replace","Isotope","layoutMode","isJQueryFiltering","sortAscending","proto","_create","name","itemGUID","_sorters","_getSorters","modes","filteredItems","items","sortHistory","_initLayoutMode","reloadItems","_itemize","apply","arguments","item","id","_updateItemsSortData","Mode","initialOpts","layout","_isLayoutInited","_getOption","_layout","arrange","isInstant","_getIsInstant","_resetLayout","_manageStamps","layoutItems","opts","option","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","_init","reveal","needReveal","hide","needHide","isLayoutInstant","undefined","isLayoutComplete","isHideComplete","isRevealComplete","arrangeParallelCallback","dispatchEvent","filter","hiddenMatched","visibleUnmatched","test","_getFilterTest","isIgnored","isMatched","isHidden","is","updateSortData","elems","makeArray","getItems","getSortData","key","sorter","mungeSorter","len","args","split","query","attrMatch","match","getValue","attr","getAttribute","querySelector","textContent","getValueGetter","parser","sortDataParsers","_parseInt","parseInt","_x","toString","val","_parseFloat","parseFloat","_x2","sortBy","sortBys","_getIsSameSortBy","concat","itemSorter","sortAsc","itemA","itemB","sortData","getItemSorter","sort","_mode","mode","Error","_getItemLayoutPosition","_manageStamp","stamp","_getContainerSize","needsResizeLayout","appended","addItems","_filterRevealAdded","prepended","insert","appendChild","filteredInsertItems","_remove","remove","removeItems","removeFrom","shuffle","random","Math","transitionDuration","returnValue","getFilteredItemElements","map","listener","events","_events","listeners","indexOf","onceEvents","_onceEvents","off","index","splice","onceListeners","allOff","getStyleSize","value","num","isNaN","logError","measurements","measurementsLength","getStyle","isBoxSizeOuter","isSetup","div","createElement","width","padding","borderStyle","borderWidth","boxSizing","body","documentElement","round","removeChild","setup","display","size","height","innerWidth","innerHeight","outerWidth","outerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","noop","GUID","instances","queryElement","getQueryElement","$element","constructor","defaults","outlayerGUID","namespace","containerStyle","position","initLayout","originLeft","originTop","resize","resizeContainer","hiddenStyle","opacity","transform","visibleStyle","subclass","Parent","SubClass","oldOption","compatOptions","horizontal","layoutInstant","stamps","bindResize","itemElems","_filterFindItemElements","filterFindElements","itemSelector","getItemElements","_getMeasurement","HTMLElement","_getItemsForLayout","_layoutItems","_postLayout","_emitCompleteOnItems","queue","_processLayoutQueue","x","y","updateStagger","_positionItem","stagger","time","unit","msUnits","getMilliseconds","goTo","moveTo","_setContainerMeasure","measure","isWidth","elemSize","max","onComplete","count","doneCount","tick","emitArgs","$event","Event","trigger","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","boundingRect","getBoundingClientRect","_boundingRect","left","top","right","bottom","_getElementOffset","thisRect","isResizeBound","unbindResize","onresize","debounceMethod","previousItems","revealItemElements","hideItemElements","destroy","removeData","data","Layout","htmlInit","bridget","ms","s","isotope","methodName","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","ary","getParent","selector","parentNode","ffElems","childElems","_class","threshold","timeoutName","timeout","clearTimeout","docReady","readyState","toDashed","$1","$2","toLowerCase","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","JSON","parse","className","instance","matchesMethod","ElemProto","Element","prefixes","docElemStyle","transitionProperty","transition","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","from","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","target","propertyName","isEmptyObj","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","delay","removeElem","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","sorters","_destroy","Masonry","MasonryMode","keepModeMethods","measureColumns","isFitWidth","fitWidth","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","min","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","floor","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","FitRows","itemWidth","Vertical","horizontalAlignment"],"mappings":"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","file":"static/js/3.251108ee.chunk.js","sourcesContent":["/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n(function (window, factory) {\n  'use strict'; // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.imagesLoaded = factory(window, window.EvEmitter);\n  }\n})(typeof window !== 'undefined' ? window : this, // --------------------------  factory -------------------------- //\nfunction factory(window, EvEmitter) {\n  'use strict';\n\n  var $ = window.jQuery;\n  var console = window.console; // -------------------------- helpers -------------------------- //\n  // extend objects\n\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }\n\n  var arraySlice = Array.prototype.slice; // turn element or nodeList into an array\n\n  function makeArray(obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    } // array of single index\n\n\n    return [obj];\n  } // -------------------------- imagesLoaded -------------------------- //\n\n  /**\n   * @param {Array, Element, NodeList, String} elem\n   * @param {Object or Function} options - if function, use as callback\n   * @param {Function} onAlways - callback function\n   */\n\n\n  function ImagesLoaded(elem, options, onAlways) {\n    // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n    if (!(this instanceof ImagesLoaded)) {\n      return new ImagesLoaded(elem, options, onAlways);\n    } // use elem as selector string\n\n\n    var queryElem = elem;\n\n    if (typeof elem == 'string') {\n      queryElem = document.querySelectorAll(elem);\n    } // bail if bad element\n\n\n    if (!queryElem) {\n      console.error('Bad element for imagesLoaded ' + (queryElem || elem));\n      return;\n    }\n\n    this.elements = makeArray(queryElem);\n    this.options = extend({}, this.options); // shift arguments if no options set\n\n    if (typeof options == 'function') {\n      onAlways = options;\n    } else {\n      extend(this.options, options);\n    }\n\n    if (onAlways) {\n      this.on('always', onAlways);\n    }\n\n    this.getImages();\n\n    if ($) {\n      // add jQuery Deferred object\n      this.jqDeferred = new $.Deferred();\n    } // HACK check async to allow time to bind listeners\n\n\n    setTimeout(this.check.bind(this));\n  }\n\n  ImagesLoaded.prototype = Object.create(EvEmitter.prototype);\n  ImagesLoaded.prototype.options = {};\n\n  ImagesLoaded.prototype.getImages = function () {\n    this.images = []; // filter & find items if we have an item selector\n\n    this.elements.forEach(this.addElementImages, this);\n  };\n  /**\n   * @param {Node} element\n   */\n\n\n  ImagesLoaded.prototype.addElementImages = function (elem) {\n    // filter siblings\n    if (elem.nodeName == 'IMG') {\n      this.addImage(elem);\n    } // get background image on element\n\n\n    if (this.options.background === true) {\n      this.addElementBackgroundImages(elem);\n    } // find children\n    // no non-element nodes, #143\n\n\n    var nodeType = elem.nodeType;\n\n    if (!nodeType || !elementNodeTypes[nodeType]) {\n      return;\n    }\n\n    var childImgs = elem.querySelectorAll('img'); // concat childElems to filterFound array\n\n    for (var i = 0; i < childImgs.length; i++) {\n      var img = childImgs[i];\n      this.addImage(img);\n    } // get child background images\n\n\n    if (typeof this.options.background == 'string') {\n      var children = elem.querySelectorAll(this.options.background);\n\n      for (i = 0; i < children.length; i++) {\n        var child = children[i];\n        this.addElementBackgroundImages(child);\n      }\n    }\n  };\n\n  var elementNodeTypes = {\n    1: true,\n    9: true,\n    11: true\n  };\n\n  ImagesLoaded.prototype.addElementBackgroundImages = function (elem) {\n    var style = getComputedStyle(elem);\n\n    if (!style) {\n      // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n      return;\n    } // get url inside url(\"...\")\n\n\n    var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n    var matches = reURL.exec(style.backgroundImage);\n\n    while (matches !== null) {\n      var url = matches && matches[2];\n\n      if (url) {\n        this.addBackground(url, elem);\n      }\n\n      matches = reURL.exec(style.backgroundImage);\n    }\n  };\n  /**\n   * @param {Image} img\n   */\n\n\n  ImagesLoaded.prototype.addImage = function (img) {\n    var loadingImage = new LoadingImage(img);\n    this.images.push(loadingImage);\n  };\n\n  ImagesLoaded.prototype.addBackground = function (url, elem) {\n    var background = new Background(url, elem);\n    this.images.push(background);\n  };\n\n  ImagesLoaded.prototype.check = function () {\n    var _this = this;\n\n    this.progressedCount = 0;\n    this.hasAnyBroken = false; // complete if no images\n\n    if (!this.images.length) {\n      this.complete();\n      return;\n    }\n\n    function onProgress(image, elem, message) {\n      // HACK - Chrome triggers event before object properties have changed. #83\n      setTimeout(function () {\n        _this.progress(image, elem, message);\n      });\n    }\n\n    this.images.forEach(function (loadingImage) {\n      loadingImage.once('progress', onProgress);\n      loadingImage.check();\n    });\n  };\n\n  ImagesLoaded.prototype.progress = function (image, elem, message) {\n    this.progressedCount++;\n    this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded; // progress event\n\n    this.emitEvent('progress', [this, image, elem]);\n\n    if (this.jqDeferred && this.jqDeferred.notify) {\n      this.jqDeferred.notify(this, image);\n    } // check if completed\n\n\n    if (this.progressedCount == this.images.length) {\n      this.complete();\n    }\n\n    if (this.options.debug && console) {\n      console.log('progress: ' + message, image, elem);\n    }\n  };\n\n  ImagesLoaded.prototype.complete = function () {\n    var eventName = this.hasAnyBroken ? 'fail' : 'done';\n    this.isComplete = true;\n    this.emitEvent(eventName, [this]);\n    this.emitEvent('always', [this]);\n\n    if (this.jqDeferred) {\n      var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n      this.jqDeferred[jqMethod](this);\n    }\n  }; // --------------------------  -------------------------- //\n\n\n  function LoadingImage(img) {\n    this.img = img;\n  }\n\n  LoadingImage.prototype = Object.create(EvEmitter.prototype);\n\n  LoadingImage.prototype.check = function () {\n    // If complete is true and browser supports natural sizes,\n    // try to check for image status manually.\n    var isComplete = this.getIsImageComplete();\n\n    if (isComplete) {\n      // report based on naturalWidth\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      return;\n    } // If none of the checks above matched, simulate loading on detached element.\n\n\n    this.proxyImage = new Image();\n    this.proxyImage.addEventListener('load', this);\n    this.proxyImage.addEventListener('error', this); // bind to image as well for Firefox. #191\n\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.proxyImage.src = this.img.src;\n  };\n\n  LoadingImage.prototype.getIsImageComplete = function () {\n    // check for non-zero, non-undefined naturalWidth\n    // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n    return this.img.complete && this.img.naturalWidth;\n  };\n\n  LoadingImage.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.img, message]);\n  }; // ----- events ----- //\n  // trigger specified handler for event type\n\n\n  LoadingImage.prototype.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  LoadingImage.prototype.onload = function () {\n    this.confirm(true, 'onload');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.onerror = function () {\n    this.confirm(false, 'onerror');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.unbindEvents = function () {\n    this.proxyImage.removeEventListener('load', this);\n    this.proxyImage.removeEventListener('error', this);\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  }; // -------------------------- Background -------------------------- //\n\n\n  function Background(url, element) {\n    this.url = url;\n    this.element = element;\n    this.img = new Image();\n  } // inherit LoadingImage prototype\n\n\n  Background.prototype = Object.create(LoadingImage.prototype);\n\n  Background.prototype.check = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.img.src = this.url; // check if image is already complete\n\n    var isComplete = this.getIsImageComplete();\n\n    if (isComplete) {\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      this.unbindEvents();\n    }\n  };\n\n  Background.prototype.unbindEvents = function () {\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  Background.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.element, message]);\n  }; // -------------------------- jQuery -------------------------- //\n\n\n  ImagesLoaded.makeJQueryPlugin = function (jQuery) {\n    jQuery = jQuery || window.jQuery;\n\n    if (!jQuery) {\n      return;\n    } // set local variable\n\n\n    $ = jQuery; // $().imagesLoaded()\n\n    $.fn.imagesLoaded = function (options, callback) {\n      var instance = new ImagesLoaded(this, options, callback);\n      return instance.jqDeferred.promise($(this));\n    };\n  }; // try making plugin\n\n\n  ImagesLoaded.makeJQueryPlugin(); // --------------------------  -------------------------- //\n\n  return ImagesLoaded;\n});","/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer', 'get-size/get-size', 'desandro-matches-selector/matches-selector', 'fizzy-ui-utils/utils', './item', './layout-mode', // include default layout modes\n    './layout-modes/masonry', './layout-modes/fit-rows', './layout-modes/vertical'], function (Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {\n      return factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('outlayer'), require('get-size'), require('desandro-matches-selector'), require('fizzy-ui-utils'), require('./item'), require('./layout-mode'), // include default layout modes\n    require('./layout-modes/masonry'), require('./layout-modes/fit-rows'), require('./layout-modes/vertical'));\n  } else {\n    // browser global\n    window.Isotope = factory(window, window.Outlayer, window.getSize, window.matchesSelector, window.fizzyUIUtils, window.Isotope.Item, window.Isotope.LayoutMode);\n  }\n})(window, function factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {\n  'use strict'; // -------------------------- vars -------------------------- //\n\n  var jQuery = window.jQuery; // -------------------------- helpers -------------------------- //\n\n  var trim = String.prototype.trim ? function (str) {\n    return str.trim();\n  } : function (str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }; // -------------------------- isotopeDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var Isotope = Outlayer.create('isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n  var proto = Isotope.prototype;\n\n  proto._create = function () {\n    this.itemGUID = 0; // functions that sort items\n\n    this._sorters = {};\n\n    this._getSorters(); // call super\n\n\n    Outlayer.prototype._create.call(this); // create layout modes\n\n\n    this.modes = {}; // start filteredItems with all items\n\n    this.filteredItems = this.items; // keep of track of sortBys\n\n    this.sortHistory = ['original-order']; // create from registered layout modes\n\n    for (var name in LayoutMode.modes) {\n      this._initLayoutMode(name);\n    }\n  };\n\n  proto.reloadItems = function () {\n    // reset item ID counter\n    this.itemGUID = 0; // call super\n\n    Outlayer.prototype.reloadItems.call(this);\n  };\n\n  proto._itemize = function () {\n    var items = Outlayer.prototype._itemize.apply(this, arguments); // assign ID for original-order\n\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n\n    this._updateItemsSortData(items);\n\n    return items;\n  }; // -------------------------- layout -------------------------- //\n\n\n  proto._initLayoutMode = function (name) {\n    var Mode = LayoutMode.modes[name]; // set mode options\n    // HACK extend initial options, back-fill in default options\n\n    var initialOpts = this.options[name] || {};\n    this.options[name] = Mode.options ? utils.extend(Mode.options, initialOpts) : initialOpts; // init layout mode instance\n\n    this.modes[name] = new Mode(this);\n  };\n\n  proto.layout = function () {\n    // if first time doing layout, do all magic\n    if (!this._isLayoutInited && this._getOption('initLayout')) {\n      this.arrange();\n      return;\n    }\n\n    this._layout();\n  }; // private method to be used in layout() & magic()\n\n\n  proto._layout = function () {\n    // don't animate first layout\n    var isInstant = this._getIsInstant(); // layout flow\n\n\n    this._resetLayout();\n\n    this._manageStamps();\n\n    this.layoutItems(this.filteredItems, isInstant); // flag for initalized\n\n    this._isLayoutInited = true;\n  }; // filter + sort + layout\n\n\n  proto.arrange = function (opts) {\n    // set any options pass\n    this.option(opts);\n\n    this._getIsInstant(); // filter, sort, and layout\n    // filter\n\n\n    var filtered = this._filter(this.items);\n\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if (this._isInstant) {\n      this._noTransition(this._hideReveal, [filtered]);\n    } else {\n      this._hideReveal(filtered);\n    }\n\n    this._sort();\n\n    this._layout();\n  }; // alias to _init for main plugin method\n\n\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function (filtered) {\n    this.reveal(filtered.needReveal);\n    this.hide(filtered.needHide);\n  }; // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n\n\n  proto._getIsInstant = function () {\n    var isLayoutInstant = this._getOption('layoutInstant');\n\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant : !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  }; // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n\n\n  proto._bindArrangeComplete = function () {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n\n    var _this = this;\n\n    function arrangeParallelCallback() {\n      if (isLayoutComplete && isHideComplete && isRevealComplete) {\n        _this.dispatchEvent('arrangeComplete', null, [_this.filteredItems]);\n      }\n    }\n\n    this.once('layoutComplete', function () {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once('hideComplete', function () {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once('revealComplete', function () {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  }; // -------------------------- filter -------------------------- //\n\n\n  proto._filter = function (items) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest(filter); // test each item\n\n\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n\n      if (item.isIgnored) {\n        continue;\n      } // add item to either matched or unmatched group\n\n\n      var isMatched = test(item); // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n\n      if (isMatched) {\n        matches.push(item);\n      } // add to additional group if item needs to be hidden or revealed\n\n\n      if (isMatched && item.isHidden) {\n        hiddenMatched.push(item);\n      } else if (!isMatched && !item.isHidden) {\n        visibleUnmatched.push(item);\n      }\n    } // return collections of items to be manipulated\n\n\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  }; // get a jQuery, function, or a matchesSelector test given the filter\n\n\n  proto._getFilterTest = function (filter) {\n    if (jQuery && this.options.isJQueryFiltering) {\n      // use jQuery\n      return function (item) {\n        return jQuery(item.element).is(filter);\n      };\n    }\n\n    if (typeof filter == 'function') {\n      // use filter as function\n      return function (item) {\n        return filter(item.element);\n      };\n    } // default, use filter as selector string\n\n\n    return function (item) {\n      return matchesSelector(item.element, filter);\n    };\n  }; // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n\n\n  proto.updateSortData = function (elems) {\n    // get items\n    var items;\n\n    if (elems) {\n      elems = utils.makeArray(elems);\n      items = this.getItems(elems);\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n\n    this._updateItemsSortData(items);\n  };\n\n  proto._getSorters = function () {\n    var getSortData = this.options.getSortData;\n\n    for (var key in getSortData) {\n      var sorter = getSortData[key];\n      this._sorters[key] = mungeSorter(sorter);\n    }\n  };\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n\n\n  proto._updateItemsSortData = function (items) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for (var i = 0; len && i < len; i++) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  }; // ----- munge sorter ----- //\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n\n\n  var mungeSorter = function () {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter(sorter) {\n      // if not a string, return function or whatever it is\n      if (typeof sorter != 'string') {\n        return sorter;\n      } // parse the sorter string\n\n\n      var args = trim(sorter).split(' ');\n      var query = args[0]; // check if query looks like [an-attribute]\n\n      var attrMatch = query.match(/^\\[(.+)\\]$/);\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter(attr, query); // use second argument as a parser\n\n      var parser = Isotope.sortDataParsers[args[1]]; // parse the value, if there was a parser\n\n      sorter = parser ? function (elem) {\n        return elem && parser(getValue(elem));\n      } : // otherwise just return value\n      function (elem) {\n        return elem && getValue(elem);\n      };\n      return sorter;\n    } // get an attribute getter, or get text of the querySelector\n\n\n    function getValueGetter(attr, query) {\n      // if query looks like [foo-bar], get attribute\n      if (attr) {\n        return function getAttribute(elem) {\n          return elem.getAttribute(attr);\n        };\n      } // otherwise, assume its a querySelector, and get its text\n\n\n      return function getChildText(elem) {\n        var child = elem.querySelector(query);\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  }(); // parsers used in getSortData shortcut strings\n\n\n  Isotope.sortDataParsers = {\n    'parseInt': function (_parseInt) {\n      function parseInt(_x) {\n        return _parseInt.apply(this, arguments);\n      }\n\n      parseInt.toString = function () {\n        return _parseInt.toString();\n      };\n\n      return parseInt;\n    }(function (val) {\n      return parseInt(val, 10);\n    }),\n    'parseFloat': function (_parseFloat) {\n      function parseFloat(_x2) {\n        return _parseFloat.apply(this, arguments);\n      }\n\n      parseFloat.toString = function () {\n        return _parseFloat.toString();\n      };\n\n      return parseFloat;\n    }(function (val) {\n      return parseFloat(val);\n    })\n  }; // ----- sort method ----- //\n  // sort filteredItem order\n\n  proto._sort = function () {\n    if (!this.options.sortBy) {\n      return;\n    } // keep track of sortBy History\n\n\n    var sortBys = utils.makeArray(this.options.sortBy);\n\n    if (!this._getIsSameSortBy(sortBys)) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat(this.sortHistory);\n    } // sort magic\n\n\n    var itemSorter = getItemSorter(this.sortHistory, this.options.sortAscending);\n    this.filteredItems.sort(itemSorter);\n  }; // check if sortBys is same as start of sortHistory\n\n\n  proto._getIsSameSortBy = function (sortBys) {\n    for (var i = 0; i < sortBys.length; i++) {\n      if (sortBys[i] != this.sortHistory[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }; // returns a function used for sorting\n\n\n  function getItemSorter(sortBys, sortAsc) {\n    return function sorter(itemA, itemB) {\n      // cycle through all sortKeys\n      for (var i = 0; i < sortBys.length; i++) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[sortBy];\n        var b = itemB.sortData[sortBy];\n\n        if (a > b || a < b) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[sortBy] !== undefined ? sortAsc[sortBy] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return (a > b ? 1 : -1) * direction;\n        }\n      }\n\n      return 0;\n    };\n  } // -------------------------- methods -------------------------- //\n  // get layout mode\n\n\n  proto._mode = function () {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[layoutMode];\n\n    if (!mode) {\n      // TODO console.error\n      throw new Error('No layout mode: ' + layoutMode);\n    } // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n\n\n    mode.options = this.options[layoutMode];\n    return mode;\n  };\n\n  proto._resetLayout = function () {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call(this);\n\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    return this._mode()._getItemLayoutPosition(item);\n  };\n\n  proto._manageStamp = function (stamp) {\n    this._mode()._manageStamp(stamp);\n  };\n\n  proto._getContainerSize = function () {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function () {\n    return this._mode().needsResizeLayout();\n  }; // -------------------------- adding & removing -------------------------- //\n  // HEADS UP overwrites default Outlayer appended\n\n\n  proto.appended = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // filter, layout, reveal new items\n\n\n    var filteredItems = this._filterRevealAdded(items); // add to filteredItems\n\n\n    this.filteredItems = this.filteredItems.concat(filteredItems);\n  }; // HEADS UP overwrites default Outlayer prepended\n\n\n  proto.prepended = function (elems) {\n    var items = this._itemize(elems);\n\n    if (!items.length) {\n      return;\n    } // start new layout\n\n\n    this._resetLayout();\n\n    this._manageStamps(); // filter, layout, reveal new items\n\n\n    var filteredItems = this._filterRevealAdded(items); // layout previous items\n\n\n    this.layoutItems(this.filteredItems); // add to items and filteredItems\n\n    this.filteredItems = filteredItems.concat(this.filteredItems);\n    this.items = items.concat(this.items);\n  };\n\n  proto._filterRevealAdded = function (items) {\n    var filtered = this._filter(items);\n\n    this.hide(filtered.needHide); // reveal all new items\n\n    this.reveal(filtered.matches); // layout new items, no transition\n\n    this.layoutItems(filtered.matches, true);\n    return filtered.matches;\n  };\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.insert = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // append item elements\n\n\n    var i, item;\n    var len = items.length;\n\n    for (i = 0; i < len; i++) {\n      item = items[i];\n      this.element.appendChild(item.element);\n    } // filter new stuff\n\n\n    var filteredInsertItems = this._filter(items).matches; // set flag\n\n\n    for (i = 0; i < len; i++) {\n      items[i].isLayoutInstant = true;\n    }\n\n    this.arrange(); // reset flag\n\n    for (i = 0; i < len; i++) {\n      delete items[i].isLayoutInstant;\n    }\n\n    this.reveal(filteredInsertItems);\n  };\n\n  var _remove = proto.remove;\n\n  proto.remove = function (elems) {\n    elems = utils.makeArray(elems);\n    var removeItems = this.getItems(elems); // do regular thing\n\n    _remove.call(this, elems); // bail if no items to remove\n\n\n    var len = removeItems && removeItems.length; // remove elems from filteredItems\n\n    for (var i = 0; len && i < len; i++) {\n      var item = removeItems[i]; // remove item from collection\n\n      utils.removeFrom(this.filteredItems, item);\n    }\n  };\n\n  proto.shuffle = function () {\n    // update random sortData\n    for (var i = 0; i < this.items.length; i++) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n\n    this.options.sortBy = 'random';\n\n    this._sort();\n\n    this._layout();\n  };\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n\n\n  proto._noTransition = function (fn, args) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration; // disable transition\n\n    this.options.transitionDuration = 0; // do it\n\n    var returnValue = fn.apply(this, args); // re-enable transition for reveal\n\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  }; // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n\n\n  proto.getFilteredItemElements = function () {\n    return this.filteredItems.map(function (item) {\n      return item.element;\n    });\n  }; // -----  ----- //\n\n\n  return Isotope;\n});","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n(function (global, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, window */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n})(typeof window != 'undefined' ? window : this, function () {\n  \"use strict\";\n\n  function EvEmitter() {}\n\n  var proto = EvEmitter.prototype;\n\n  proto.on = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    } // set events hash\n\n\n    var events = this._events = this._events || {}; // set listeners array\n\n    var listeners = events[eventName] = events[eventName] || []; // only add once\n\n    if (listeners.indexOf(listener) == -1) {\n      listeners.push(listener);\n    }\n\n    return this;\n  };\n\n  proto.once = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    } // add event\n\n\n    this.on(eventName, listener); // set once flag\n    // set onceEvents hash\n\n    var onceEvents = this._onceEvents = this._onceEvents || {}; // set onceListeners object\n\n    var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {}; // set flag\n\n    onceListeners[listener] = true;\n    return this;\n  };\n\n  proto.off = function (eventName, listener) {\n    var listeners = this._events && this._events[eventName];\n\n    if (!listeners || !listeners.length) {\n      return;\n    }\n\n    var index = listeners.indexOf(listener);\n\n    if (index != -1) {\n      listeners.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  proto.emitEvent = function (eventName, args) {\n    var listeners = this._events && this._events[eventName];\n\n    if (!listeners || !listeners.length) {\n      return;\n    } // copy over to avoid interference if .off() in listener\n\n\n    listeners = listeners.slice(0);\n    args = args || []; // once stuff\n\n    var onceListeners = this._onceEvents && this._onceEvents[eventName];\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      var isOnce = onceListeners && onceListeners[listener];\n\n      if (isOnce) {\n        // remove listener\n        // remove before trigger to prevent recursion\n        this.off(eventName, listener); // unset once flag\n\n        delete onceListeners[listener];\n      } // trigger listener\n\n\n      listener.apply(this, args);\n    }\n\n    return this;\n  };\n\n  proto.allOff = function () {\n    delete this._events;\n    delete this._onceEvents;\n  };\n\n  return EvEmitter;\n});","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n/* globals console: false */\n(function (window, factory) {\n  /* jshint strict: false */\n\n  /* globals define, module */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n})(window, function factory() {\n  'use strict'; // -------------------------- helpers -------------------------- //\n  // get a number from a string, not a percentage\n\n  function getStyleSize(value) {\n    var num = parseFloat(value); // not a percent like '100%', and a number\n\n    var isValid = value.indexOf('%') == -1 && !isNaN(num);\n    return isValid && num;\n  }\n\n  function noop() {}\n\n  var logError = typeof console == 'undefined' ? noop : function (message) {\n    console.error(message);\n  }; // -------------------------- measurements -------------------------- //\n\n  var measurements = ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom', 'marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'borderBottomWidth'];\n  var measurementsLength = measurements.length;\n\n  function getZeroSize() {\n    var size = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    };\n\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      size[measurement] = 0;\n    }\n\n    return size;\n  } // -------------------------- getStyle -------------------------- //\n\n  /**\n   * getStyle, get style of element, check for Firefox bug\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n\n\n  function getStyle(elem) {\n    var style = getComputedStyle(elem);\n\n    if (!style) {\n      logError('Style returned ' + style + '. Are you running this code in a hidden iframe on Firefox? ' + 'See https://bit.ly/getsizebug1');\n    }\n\n    return style;\n  } // -------------------------- setup -------------------------- //\n\n\n  var isSetup = false;\n  var isBoxSizeOuter;\n  /**\n   * setup\n   * check isBoxSizerOuter\n   * do on first getSize() rather than on page load for Firefox bug\n   */\n\n  function setup() {\n    // setup once\n    if (isSetup) {\n      return;\n    }\n\n    isSetup = true; // -------------------------- box sizing -------------------------- //\n\n    /**\n     * Chrome & Safari measure the outer-width on style.width on border-box elems\n     * IE11 & Firefox<29 measures the inner-width\n     */\n\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style.boxSizing = 'border-box';\n    var body = document.body || document.documentElement;\n    body.appendChild(div);\n    var style = getStyle(div); // round value for browser zoom. desandro/masonry#928\n\n    isBoxSizeOuter = Math.round(getStyleSize(style.width)) == 200;\n    getSize.isBoxSizeOuter = isBoxSizeOuter;\n    body.removeChild(div);\n  } // -------------------------- getSize -------------------------- //\n\n\n  function getSize(elem) {\n    setup(); // use querySeletor if elem is string\n\n    if (typeof elem == 'string') {\n      elem = document.querySelector(elem);\n    } // do not proceed on non-objects\n\n\n    if (!elem || typeof elem != 'object' || !elem.nodeType) {\n      return;\n    }\n\n    var style = getStyle(elem); // if hidden, everything is 0\n\n    if (style.display == 'none') {\n      return getZeroSize();\n    }\n\n    var size = {};\n    size.width = elem.offsetWidth;\n    size.height = elem.offsetHeight;\n    var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box'; // get all measurements\n\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      var value = style[measurement];\n      var num = parseFloat(value); // any 'auto', 'medium' value will be 0\n\n      size[measurement] = !isNaN(num) ? num : 0;\n    }\n\n    var paddingWidth = size.paddingLeft + size.paddingRight;\n    var paddingHeight = size.paddingTop + size.paddingBottom;\n    var marginWidth = size.marginLeft + size.marginRight;\n    var marginHeight = size.marginTop + size.marginBottom;\n    var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n    var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n    var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter; // overwrite width and height if we can get it from style\n\n    var styleWidth = getStyleSize(style.width);\n\n    if (styleWidth !== false) {\n      size.width = styleWidth + ( // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n    }\n\n    var styleHeight = getStyleSize(style.height);\n\n    if (styleHeight !== false) {\n      size.height = styleHeight + ( // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n    }\n\n    size.innerWidth = size.width - (paddingWidth + borderWidth);\n    size.innerHeight = size.height - (paddingHeight + borderHeight);\n    size.outerWidth = size.width + marginWidth;\n    size.outerHeight = size.height + marginHeight;\n    return size;\n  }\n\n  return getSize;\n});","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n(function (window, factory) {\n  'use strict'; // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(['ev-emitter/ev-emitter', 'get-size/get-size', 'fizzy-ui-utils/utils', './item'], function (EvEmitter, getSize, utils, Item) {\n      return factory(window, EvEmitter, getSize, utils, Item);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(window, require('ev-emitter'), require('get-size'), require('fizzy-ui-utils'), require('./item'));\n  } else {\n    // browser global\n    window.Outlayer = factory(window, window.EvEmitter, window.getSize, window.fizzyUIUtils, window.Outlayer.Item);\n  }\n})(window, function factory(window, EvEmitter, getSize, utils, Item) {\n  'use strict'; // ----- vars ----- //\n\n  var console = window.console;\n  var jQuery = window.jQuery;\n\n  var noop = function noop() {}; // -------------------------- Outlayer -------------------------- //\n  // globally unique identifiers\n\n\n  var GUID = 0; // internal store of all Outlayer intances\n\n  var instances = {};\n  /**\n   * @param {Element, String} element\n   * @param {Object} options\n   * @constructor\n   */\n\n  function Outlayer(element, options) {\n    var queryElement = utils.getQueryElement(element);\n\n    if (!queryElement) {\n      if (console) {\n        console.error('Bad element for ' + this.constructor.namespace + ': ' + (queryElement || element));\n      }\n\n      return;\n    }\n\n    this.element = queryElement; // add jQuery\n\n    if (jQuery) {\n      this.$element = jQuery(this.element);\n    } // options\n\n\n    this.options = utils.extend({}, this.constructor.defaults);\n    this.option(options); // add id for Outlayer.getFromElement\n\n    var id = ++GUID;\n    this.element.outlayerGUID = id; // expando\n\n    instances[id] = this; // associate via id\n    // kick it off\n\n    this._create();\n\n    var isInitLayout = this._getOption('initLayout');\n\n    if (isInitLayout) {\n      this.layout();\n    }\n  } // settings are for internal use only\n\n\n  Outlayer.namespace = 'outlayer';\n  Outlayer.Item = Item; // default options\n\n  Outlayer.defaults = {\n    containerStyle: {\n      position: 'relative'\n    },\n    initLayout: true,\n    originLeft: true,\n    originTop: true,\n    resize: true,\n    resizeContainer: true,\n    // item options\n    transitionDuration: '0.4s',\n    hiddenStyle: {\n      opacity: 0,\n      transform: 'scale(0.001)'\n    },\n    visibleStyle: {\n      opacity: 1,\n      transform: 'scale(1)'\n    }\n  };\n  var proto = Outlayer.prototype; // inherit EvEmitter\n\n  utils.extend(proto, EvEmitter.prototype);\n  /**\n   * set options\n   * @param {Object} opts\n   */\n\n  proto.option = function (opts) {\n    utils.extend(this.options, opts);\n  };\n  /**\n   * get backwards compatible option value, check old name\n   */\n\n\n  proto._getOption = function (option) {\n    var oldOption = this.constructor.compatOptions[option];\n    return oldOption && this.options[oldOption] !== undefined ? this.options[oldOption] : this.options[option];\n  };\n\n  Outlayer.compatOptions = {\n    // currentName: oldName\n    initLayout: 'isInitLayout',\n    horizontal: 'isHorizontal',\n    layoutInstant: 'isLayoutInstant',\n    originLeft: 'isOriginLeft',\n    originTop: 'isOriginTop',\n    resize: 'isResizeBound',\n    resizeContainer: 'isResizingContainer'\n  };\n\n  proto._create = function () {\n    // get items from children\n    this.reloadItems(); // elements that affect layout, but are not laid out\n\n    this.stamps = [];\n    this.stamp(this.options.stamp); // set container style\n\n    utils.extend(this.element.style, this.options.containerStyle); // bind resize method\n\n    var canBindResize = this._getOption('resize');\n\n    if (canBindResize) {\n      this.bindResize();\n    }\n  }; // goes through all children again and gets bricks in proper order\n\n\n  proto.reloadItems = function () {\n    // collection of item elements\n    this.items = this._itemize(this.element.children);\n  };\n  /**\n   * turn elements into Outlayer.Items to be used in layout\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - collection of new Outlayer Items\n   */\n\n\n  proto._itemize = function (elems) {\n    var itemElems = this._filterFindItemElements(elems);\n\n    var Item = this.constructor.Item; // create new Outlayer Items for collection\n\n    var items = [];\n\n    for (var i = 0; i < itemElems.length; i++) {\n      var elem = itemElems[i];\n      var item = new Item(elem, this);\n      items.push(item);\n    }\n\n    return items;\n  };\n  /**\n   * get item elements to be used in layout\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - item elements\n   */\n\n\n  proto._filterFindItemElements = function (elems) {\n    return utils.filterFindElements(elems, this.options.itemSelector);\n  };\n  /**\n   * getter method for getting item elements\n   * @returns {Array} elems - collection of item elements\n   */\n\n\n  proto.getItemElements = function () {\n    return this.items.map(function (item) {\n      return item.element;\n    });\n  }; // ----- init & layout ----- //\n\n  /**\n   * lays out all items\n   */\n\n\n  proto.layout = function () {\n    this._resetLayout();\n\n    this._manageStamps(); // don't animate first layout\n\n\n    var layoutInstant = this._getOption('layoutInstant');\n\n    var isInstant = layoutInstant !== undefined ? layoutInstant : !this._isLayoutInited;\n    this.layoutItems(this.items, isInstant); // flag for initalized\n\n    this._isLayoutInited = true;\n  }; // _init is alias for layout\n\n\n  proto._init = proto.layout;\n  /**\n   * logic before any new layout\n   */\n\n  proto._resetLayout = function () {\n    this.getSize();\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n  /**\n   * get measurement from option, for columnWidth, rowHeight, gutter\n   * if option is String -> get element from selector string, & get size of element\n   * if option is Element -> get size of element\n   * else use option as a number\n   *\n   * @param {String} measurement\n   * @param {String} size - width or height\n   * @private\n   */\n\n\n  proto._getMeasurement = function (measurement, size) {\n    var option = this.options[measurement];\n    var elem;\n\n    if (!option) {\n      // default to 0\n      this[measurement] = 0;\n    } else {\n      // use option as an element\n      if (typeof option == 'string') {\n        elem = this.element.querySelector(option);\n      } else if (option instanceof HTMLElement) {\n        elem = option;\n      } // use size of element, if element\n\n\n      this[measurement] = elem ? getSize(elem)[size] : option;\n    }\n  };\n  /**\n   * layout a collection of item elements\n   * @api public\n   */\n\n\n  proto.layoutItems = function (items, isInstant) {\n    items = this._getItemsForLayout(items);\n\n    this._layoutItems(items, isInstant);\n\n    this._postLayout();\n  };\n  /**\n   * get the items to be laid out\n   * you may want to skip over some items\n   * @param {Array} items\n   * @returns {Array} items\n   */\n\n\n  proto._getItemsForLayout = function (items) {\n    return items.filter(function (item) {\n      return !item.isIgnored;\n    });\n  };\n  /**\n   * layout items\n   * @param {Array} items\n   * @param {Boolean} isInstant\n   */\n\n\n  proto._layoutItems = function (items, isInstant) {\n    this._emitCompleteOnItems('layout', items);\n\n    if (!items || !items.length) {\n      // no items, emit event with empty array\n      return;\n    }\n\n    var queue = [];\n    items.forEach(function (item) {\n      // get x/y object from method\n      var position = this._getItemLayoutPosition(item); // enqueue\n\n\n      position.item = item;\n      position.isInstant = isInstant || item.isLayoutInstant;\n      queue.push(position);\n    }, this);\n\n    this._processLayoutQueue(queue);\n  };\n  /**\n   * get item layout position\n   * @param {Outlayer.Item} item\n   * @returns {Object} x and y position\n   */\n\n\n  proto._getItemLayoutPosition = function ()\n  /* item */\n  {\n    return {\n      x: 0,\n      y: 0\n    };\n  };\n  /**\n   * iterate over array and position each item\n   * Reason being - separating this logic prevents 'layout invalidation'\n   * thx @paul_irish\n   * @param {Array} queue\n   */\n\n\n  proto._processLayoutQueue = function (queue) {\n    this.updateStagger();\n    queue.forEach(function (obj, i) {\n      this._positionItem(obj.item, obj.x, obj.y, obj.isInstant, i);\n    }, this);\n  }; // set stagger from option in milliseconds number\n\n\n  proto.updateStagger = function () {\n    var stagger = this.options.stagger;\n\n    if (stagger === null || stagger === undefined) {\n      this.stagger = 0;\n      return;\n    }\n\n    this.stagger = getMilliseconds(stagger);\n    return this.stagger;\n  };\n  /**\n   * Sets position of item in DOM\n   * @param {Outlayer.Item} item\n   * @param {Number} x - horizontal position\n   * @param {Number} y - vertical position\n   * @param {Boolean} isInstant - disables transitions\n   */\n\n\n  proto._positionItem = function (item, x, y, isInstant, i) {\n    if (isInstant) {\n      // if not transition, just set CSS\n      item.goTo(x, y);\n    } else {\n      item.stagger(i * this.stagger);\n      item.moveTo(x, y);\n    }\n  };\n  /**\n   * Any logic you want to do after each layout,\n   * i.e. size the container\n   */\n\n\n  proto._postLayout = function () {\n    this.resizeContainer();\n  };\n\n  proto.resizeContainer = function () {\n    var isResizingContainer = this._getOption('resizeContainer');\n\n    if (!isResizingContainer) {\n      return;\n    }\n\n    var size = this._getContainerSize();\n\n    if (size) {\n      this._setContainerMeasure(size.width, true);\n\n      this._setContainerMeasure(size.height, false);\n    }\n  };\n  /**\n   * Sets width or height of container if returned\n   * @returns {Object} size\n   *   @param {Number} width\n   *   @param {Number} height\n   */\n\n\n  proto._getContainerSize = noop;\n  /**\n   * @param {Number} measure - size of width or height\n   * @param {Boolean} isWidth\n   */\n\n  proto._setContainerMeasure = function (measure, isWidth) {\n    if (measure === undefined) {\n      return;\n    }\n\n    var elemSize = this.size; // add padding and border width if border box\n\n    if (elemSize.isBorderBox) {\n      measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight + elemSize.borderLeftWidth + elemSize.borderRightWidth : elemSize.paddingBottom + elemSize.paddingTop + elemSize.borderTopWidth + elemSize.borderBottomWidth;\n    }\n\n    measure = Math.max(measure, 0);\n    this.element.style[isWidth ? 'width' : 'height'] = measure + 'px';\n  };\n  /**\n   * emit eventComplete on a collection of items events\n   * @param {String} eventName\n   * @param {Array} items - Outlayer.Items\n   */\n\n\n  proto._emitCompleteOnItems = function (eventName, items) {\n    var _this = this;\n\n    function onComplete() {\n      _this.dispatchEvent(eventName + 'Complete', null, [items]);\n    }\n\n    var count = items.length;\n\n    if (!items || !count) {\n      onComplete();\n      return;\n    }\n\n    var doneCount = 0;\n\n    function tick() {\n      doneCount++;\n\n      if (doneCount == count) {\n        onComplete();\n      }\n    } // bind callback\n\n\n    items.forEach(function (item) {\n      item.once(eventName, tick);\n    });\n  };\n  /**\n   * emits events via EvEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n\n\n  proto.dispatchEvent = function (type, event, args) {\n    // add original event to arguments\n    var emitArgs = event ? [event].concat(args) : args;\n    this.emitEvent(type, emitArgs);\n\n    if (jQuery) {\n      // set this.$element\n      this.$element = this.$element || jQuery(this.element);\n\n      if (event) {\n        // create jQuery event\n        var $event = jQuery.Event(event);\n        $event.type = type;\n        this.$element.trigger($event, args);\n      } else {\n        // just trigger with type if no event available\n        this.$element.trigger(type, args);\n      }\n    }\n  }; // -------------------------- ignore & stamps -------------------------- //\n\n  /**\n   * keep item in collection, but do not lay it out\n   * ignored items do not get skipped in layout\n   * @param {Element} elem\n   */\n\n\n  proto.ignore = function (elem) {\n    var item = this.getItem(elem);\n\n    if (item) {\n      item.isIgnored = true;\n    }\n  };\n  /**\n   * return item to layout collection\n   * @param {Element} elem\n   */\n\n\n  proto.unignore = function (elem) {\n    var item = this.getItem(elem);\n\n    if (item) {\n      delete item.isIgnored;\n    }\n  };\n  /**\n   * adds elements to stamps\n   * @param {NodeList, Array, Element, or String} elems\n   */\n\n\n  proto.stamp = function (elems) {\n    elems = this._find(elems);\n\n    if (!elems) {\n      return;\n    }\n\n    this.stamps = this.stamps.concat(elems); // ignore\n\n    elems.forEach(this.ignore, this);\n  };\n  /**\n   * removes elements to stamps\n   * @param {NodeList, Array, or Element} elems\n   */\n\n\n  proto.unstamp = function (elems) {\n    elems = this._find(elems);\n\n    if (!elems) {\n      return;\n    }\n\n    elems.forEach(function (elem) {\n      // filter out removed stamp elements\n      utils.removeFrom(this.stamps, elem);\n      this.unignore(elem);\n    }, this);\n  };\n  /**\n   * finds child elements\n   * @param {NodeList, Array, Element, or String} elems\n   * @returns {Array} elems\n   */\n\n\n  proto._find = function (elems) {\n    if (!elems) {\n      return;\n    } // if string, use argument as selector string\n\n\n    if (typeof elems == 'string') {\n      elems = this.element.querySelectorAll(elems);\n    }\n\n    elems = utils.makeArray(elems);\n    return elems;\n  };\n\n  proto._manageStamps = function () {\n    if (!this.stamps || !this.stamps.length) {\n      return;\n    }\n\n    this._getBoundingRect();\n\n    this.stamps.forEach(this._manageStamp, this);\n  }; // update boundingLeft / Top\n\n\n  proto._getBoundingRect = function () {\n    // get bounding rect for container element\n    var boundingRect = this.element.getBoundingClientRect();\n    var size = this.size;\n    this._boundingRect = {\n      left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n      top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n      right: boundingRect.right - (size.paddingRight + size.borderRightWidth),\n      bottom: boundingRect.bottom - (size.paddingBottom + size.borderBottomWidth)\n    };\n  };\n  /**\n   * @param {Element} stamp\n  **/\n\n\n  proto._manageStamp = noop;\n  /**\n   * get x/y position of element relative to container element\n   * @param {Element} elem\n   * @returns {Object} offset - has left, top, right, bottom\n   */\n\n  proto._getElementOffset = function (elem) {\n    var boundingRect = elem.getBoundingClientRect();\n    var thisRect = this._boundingRect;\n    var size = getSize(elem);\n    var offset = {\n      left: boundingRect.left - thisRect.left - size.marginLeft,\n      top: boundingRect.top - thisRect.top - size.marginTop,\n      right: thisRect.right - boundingRect.right - size.marginRight,\n      bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n    };\n    return offset;\n  }; // -------------------------- resize -------------------------- //\n  // enable event handlers for listeners\n  // i.e. resize -> onresize\n\n\n  proto.handleEvent = utils.handleEvent;\n  /**\n   * Bind layout to window resizing\n   */\n\n  proto.bindResize = function () {\n    window.addEventListener('resize', this);\n    this.isResizeBound = true;\n  };\n  /**\n   * Unbind layout to window resizing\n   */\n\n\n  proto.unbindResize = function () {\n    window.removeEventListener('resize', this);\n    this.isResizeBound = false;\n  };\n\n  proto.onresize = function () {\n    this.resize();\n  };\n\n  utils.debounceMethod(Outlayer, 'onresize', 100);\n\n  proto.resize = function () {\n    // don't trigger if size did not change\n    // or if resize was unbound. See #9\n    if (!this.isResizeBound || !this.needsResizeLayout()) {\n      return;\n    }\n\n    this.layout();\n  };\n  /**\n   * check if layout is needed post layout\n   * @returns Boolean\n   */\n\n\n  proto.needsResizeLayout = function () {\n    var size = getSize(this.element); // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var hasSizes = this.size && size;\n    return hasSizes && size.innerWidth !== this.size.innerWidth;\n  }; // -------------------------- methods -------------------------- //\n\n  /**\n   * add items to Outlayer instance\n   * @param {Array or NodeList or Element} elems\n   * @returns {Array} items - Outlayer.Items\n  **/\n\n\n  proto.addItems = function (elems) {\n    var items = this._itemize(elems); // add items to collection\n\n\n    if (items.length) {\n      this.items = this.items.concat(items);\n    }\n\n    return items;\n  };\n  /**\n   * Layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.appended = function (elems) {\n    var items = this.addItems(elems);\n\n    if (!items.length) {\n      return;\n    } // layout and reveal just the new items\n\n\n    this.layoutItems(items, true);\n    this.reveal(items);\n  };\n  /**\n   * Layout prepended elements\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.prepended = function (elems) {\n    var items = this._itemize(elems);\n\n    if (!items.length) {\n      return;\n    } // add items to beginning of collection\n\n\n    var previousItems = this.items.slice(0);\n    this.items = items.concat(previousItems); // start new layout\n\n    this._resetLayout();\n\n    this._manageStamps(); // layout new stuff without transition\n\n\n    this.layoutItems(items, true);\n    this.reveal(items); // layout previous items\n\n    this.layoutItems(previousItems);\n  };\n  /**\n   * reveal a collection of items\n   * @param {Array of Outlayer.Items} items\n   */\n\n\n  proto.reveal = function (items) {\n    this._emitCompleteOnItems('reveal', items);\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var stagger = this.updateStagger();\n    items.forEach(function (item, i) {\n      item.stagger(i * stagger);\n      item.reveal();\n    });\n  };\n  /**\n   * hide a collection of items\n   * @param {Array of Outlayer.Items} items\n   */\n\n\n  proto.hide = function (items) {\n    this._emitCompleteOnItems('hide', items);\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var stagger = this.updateStagger();\n    items.forEach(function (item, i) {\n      item.stagger(i * stagger);\n      item.hide();\n    });\n  };\n  /**\n   * reveal item elements\n   * @param {Array}, {Element}, {NodeList} items\n   */\n\n\n  proto.revealItemElements = function (elems) {\n    var items = this.getItems(elems);\n    this.reveal(items);\n  };\n  /**\n   * hide item elements\n   * @param {Array}, {Element}, {NodeList} items\n   */\n\n\n  proto.hideItemElements = function (elems) {\n    var items = this.getItems(elems);\n    this.hide(items);\n  };\n  /**\n   * get Outlayer.Item, given an Element\n   * @param {Element} elem\n   * @param {Function} callback\n   * @returns {Outlayer.Item} item\n   */\n\n\n  proto.getItem = function (elem) {\n    // loop through items to get the one that matches\n    for (var i = 0; i < this.items.length; i++) {\n      var item = this.items[i];\n\n      if (item.element == elem) {\n        // return item\n        return item;\n      }\n    }\n  };\n  /**\n   * get collection of Outlayer.Items, given Elements\n   * @param {Array} elems\n   * @returns {Array} items - Outlayer.Items\n   */\n\n\n  proto.getItems = function (elems) {\n    elems = utils.makeArray(elems);\n    var items = [];\n    elems.forEach(function (elem) {\n      var item = this.getItem(elem);\n\n      if (item) {\n        items.push(item);\n      }\n    }, this);\n    return items;\n  };\n  /**\n   * remove element(s) from instance and DOM\n   * @param {Array or NodeList or Element} elems\n   */\n\n\n  proto.remove = function (elems) {\n    var removeItems = this.getItems(elems);\n\n    this._emitCompleteOnItems('remove', removeItems); // bail if no items to remove\n\n\n    if (!removeItems || !removeItems.length) {\n      return;\n    }\n\n    removeItems.forEach(function (item) {\n      item.remove(); // remove item from collection\n\n      utils.removeFrom(this.items, item);\n    }, this);\n  }; // ----- destroy ----- //\n  // remove and disable Outlayer instance\n\n\n  proto.destroy = function () {\n    // clean up dynamic styles\n    var style = this.element.style;\n    style.height = '';\n    style.position = '';\n    style.width = ''; // destroy items\n\n    this.items.forEach(function (item) {\n      item.destroy();\n    });\n    this.unbindResize();\n    var id = this.element.outlayerGUID;\n    delete instances[id]; // remove reference to instance by id\n\n    delete this.element.outlayerGUID; // remove data for jQuery\n\n    if (jQuery) {\n      jQuery.removeData(this.element, this.constructor.namespace);\n    }\n  }; // -------------------------- data -------------------------- //\n\n  /**\n   * get Outlayer instance from element\n   * @param {Element} elem\n   * @returns {Outlayer}\n   */\n\n\n  Outlayer.data = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var id = elem && elem.outlayerGUID;\n    return id && instances[id];\n  }; // -------------------------- create Outlayer class -------------------------- //\n\n  /**\n   * create a layout class\n   * @param {String} namespace\n   */\n\n\n  Outlayer.create = function (namespace, options) {\n    // sub-class Outlayer\n    var Layout = subclass(Outlayer); // apply new options and compatOptions\n\n    Layout.defaults = utils.extend({}, Outlayer.defaults);\n    utils.extend(Layout.defaults, options);\n    Layout.compatOptions = utils.extend({}, Outlayer.compatOptions);\n    Layout.namespace = namespace;\n    Layout.data = Outlayer.data; // sub-class Item\n\n    Layout.Item = subclass(Item); // -------------------------- declarative -------------------------- //\n\n    utils.htmlInit(Layout, namespace); // -------------------------- jQuery bridge -------------------------- //\n    // make into jQuery plugin\n\n    if (jQuery && jQuery.bridget) {\n      jQuery.bridget(namespace, Layout);\n    }\n\n    return Layout;\n  };\n\n  function subclass(Parent) {\n    function SubClass() {\n      Parent.apply(this, arguments);\n    }\n\n    SubClass.prototype = Object.create(Parent.prototype);\n    SubClass.prototype.constructor = SubClass;\n    return SubClass;\n  } // ----- helpers ----- //\n  // how many milliseconds are in each unit\n\n\n  var msUnits = {\n    ms: 1,\n    s: 1000\n  }; // munge time-like parameter into millisecond number\n  // '0.4s' -> 40\n\n  function getMilliseconds(time) {\n    if (typeof time == 'number') {\n      return time;\n    }\n\n    var matches = time.match(/(^\\d*\\.?\\d*)(\\w*)/);\n    var num = matches && matches[1];\n    var unit = matches && matches[2];\n\n    if (!num.length) {\n      return 0;\n    }\n\n    num = parseFloat(num);\n    var mult = msUnits[unit] || 1;\n    return num * mult;\n  } // ----- fin ----- //\n  // back in global\n\n\n  Outlayer.Item = Item;\n  return Outlayer;\n});","/**\n * Isotope LayoutMode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['get-size/get-size', 'outlayer/outlayer'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('get-size'), require('outlayer'));\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(window.getSize, window.Outlayer);\n  }\n})(window, function factory(getSize, Outlayer) {\n  'use strict'; // layout mode class\n\n  function LayoutMode(isotope) {\n    this.isotope = isotope; // link properties\n\n    if (isotope) {\n      this.options = isotope.options[this.namespace];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n\n  var facadeMethods = ['_resetLayout', '_getItemLayoutPosition', '_manageStamp', '_getContainerSize', '_getElementOffset', 'needsResizeLayout', '_getOption'];\n  facadeMethods.forEach(function (methodName) {\n    proto[methodName] = function () {\n      return Outlayer.prototype[methodName].apply(this.isotope, arguments);\n    };\n  }); // -----  ----- //\n  // for horizontal layout modes, check vertical size\n\n  proto.needsVerticalResizeLayout = function () {\n    // don't trigger if size did not change\n    var size = getSize(this.isotope.element); // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  }; // ----- measurements ----- //\n\n\n  proto._getMeasurement = function () {\n    this.isotope._getMeasurement.apply(this, arguments);\n  };\n\n  proto.getColumnWidth = function () {\n    this.getSegmentSize('column', 'Width');\n  };\n\n  proto.getRowHeight = function () {\n    this.getSegmentSize('row', 'Height');\n  };\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n\n\n  proto.getSegmentSize = function (segment, size) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size; // columnWidth / outerWidth // rowHeight / outerHeight\n\n    this._getMeasurement(segmentName, outerSize); // got rowHeight or columnWidth, we can chill\n\n\n    if (this[segmentName]) {\n      return;\n    } // fall back to item of first element\n\n\n    var firstItemSize = this.getFirstItemSize();\n    this[segmentName] = firstItemSize && firstItemSize[outerSize] || // or size of container\n    this.isotope.size['inner' + size];\n  };\n\n  proto.getFirstItemSize = function () {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize(firstItem.element);\n  }; // ----- methods that should reference isotope ----- //\n\n\n  proto.layout = function () {\n    this.isotope.layout.apply(this.isotope, arguments);\n  };\n\n  proto.getSize = function () {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  }; // -------------------------- create -------------------------- //\n\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function (namespace, options) {\n    function Mode() {\n      LayoutMode.apply(this, arguments);\n    }\n\n    Mode.prototype = Object.create(proto);\n    Mode.prototype.constructor = Mode; // default options\n\n    if (options) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace; // register in Isotope\n\n    LayoutMode.modes[namespace] = Mode;\n    return Mode;\n  };\n\n  return LayoutMode;\n});","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n(function (window, factory) {\n  // universal module definition\n\n  /*jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['desandro-matches-selector/matches-selector'], function (matchesSelector) {\n      return factory(window, matchesSelector);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('desandro-matches-selector'));\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(window, window.matchesSelector);\n  }\n})(window, function factory(window, matchesSelector) {\n  'use strict';\n\n  var utils = {}; // ----- extend ----- //\n  // extends objects\n\n  utils.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }; // ----- modulo ----- //\n\n\n  utils.modulo = function (num, div) {\n    return (num % div + div) % div;\n  }; // ----- makeArray ----- //\n\n\n  var arraySlice = Array.prototype.slice; // turn element or nodeList into an array\n\n  utils.makeArray = function (obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    } // return empty array if undefined or null. #6\n\n\n    if (obj === null || obj === undefined) {\n      return [];\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    } // array of single index\n\n\n    return [obj];\n  }; // ----- removeFrom ----- //\n\n\n  utils.removeFrom = function (ary, obj) {\n    var index = ary.indexOf(obj);\n\n    if (index != -1) {\n      ary.splice(index, 1);\n    }\n  }; // ----- getParent ----- //\n\n\n  utils.getParent = function (elem, selector) {\n    while (elem.parentNode && elem != document.body) {\n      elem = elem.parentNode;\n\n      if (matchesSelector(elem, selector)) {\n        return elem;\n      }\n    }\n  }; // ----- getQueryElement ----- //\n  // use element as selector string\n\n\n  utils.getQueryElement = function (elem) {\n    if (typeof elem == 'string') {\n      return document.querySelector(elem);\n    }\n\n    return elem;\n  }; // ----- handleEvent ----- //\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n\n\n  utils.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  }; // ----- filterFindElements ----- //\n\n\n  utils.filterFindElements = function (elems, selector) {\n    // make array of elems\n    elems = utils.makeArray(elems);\n    var ffElems = [];\n    elems.forEach(function (elem) {\n      // check that elem is an actual element\n      if (!(elem instanceof HTMLElement)) {\n        return;\n      } // add elem if no selector\n\n\n      if (!selector) {\n        ffElems.push(elem);\n        return;\n      } // filter & find items if we have a selector\n      // filter\n\n\n      if (matchesSelector(elem, selector)) {\n        ffElems.push(elem);\n      } // find children\n\n\n      var childElems = elem.querySelectorAll(selector); // concat childElems to filterFound array\n\n      for (var i = 0; i < childElems.length; i++) {\n        ffElems.push(childElems[i]);\n      }\n    });\n    return ffElems;\n  }; // ----- debounceMethod ----- //\n\n\n  utils.debounceMethod = function (_class, methodName, threshold) {\n    threshold = threshold || 100; // original method\n\n    var method = _class.prototype[methodName];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[methodName] = function () {\n      var timeout = this[timeoutName];\n      clearTimeout(timeout);\n      var args = arguments;\n\n      var _this = this;\n\n      this[timeoutName] = setTimeout(function () {\n        method.apply(_this, args);\n        delete _this[timeoutName];\n      }, threshold);\n    };\n  }; // ----- docReady ----- //\n\n\n  utils.docReady = function (callback) {\n    var readyState = document.readyState;\n\n    if (readyState == 'complete' || readyState == 'interactive') {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout(callback);\n    } else {\n      document.addEventListener('DOMContentLoaded', callback);\n    }\n  }; // ----- htmlInit ----- //\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n\n\n  utils.toDashed = function (str) {\n    return str.replace(/(.)([A-Z])/g, function (match, $1, $2) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n\n  utils.htmlInit = function (WidgetClass, namespace) {\n    utils.docReady(function () {\n      var dashedNamespace = utils.toDashed(namespace);\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');\n      var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);\n      var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n      elems.forEach(function (elem) {\n        var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);\n        var options;\n\n        try {\n          options = attr && JSON.parse(attr);\n        } catch (error) {\n          // log error, do not initialize\n          if (console) {\n            console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);\n          }\n\n          return;\n        } // initialize\n\n\n        var instance = new WidgetClass(elem, options); // make available via $().data('namespace')\n\n        if (jQuery) {\n          jQuery.data(elem, namespace, instance);\n        }\n      });\n    });\n  }; // -----  ----- //\n\n\n  return utils;\n});","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n(function (window, factory) {\n  /*global define: false, module: false */\n  'use strict'; // universal module definition\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  var matchesMethod = function () {\n    var ElemProto = window.Element.prototype; // check for the standard method name first\n\n    if (ElemProto.matches) {\n      return 'matches';\n    } // check un-prefixed\n\n\n    if (ElemProto.matchesSelector) {\n      return 'matchesSelector';\n    } // check vendor prefixes\n\n\n    var prefixes = ['webkit', 'moz', 'ms', 'o'];\n\n    for (var i = 0; i < prefixes.length; i++) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n\n      if (ElemProto[method]) {\n        return method;\n      }\n    }\n  }();\n\n  return function matchesSelector(elem, selector) {\n    return elem[matchesMethod](selector);\n  };\n});","/**\n * Outlayer Item\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(['ev-emitter/ev-emitter', 'get-size/get-size'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(require('ev-emitter'), require('get-size'));\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(window.EvEmitter, window.getSize);\n  }\n})(window, function factory(EvEmitter, getSize) {\n  'use strict'; // ----- helpers ----- //\n\n  function isEmptyObj(obj) {\n    for (var prop in obj) {\n      return false;\n    }\n\n    prop = null;\n    return true;\n  } // -------------------------- CSS3 support -------------------------- //\n\n\n  var docElemStyle = document.documentElement.style;\n  var transitionProperty = typeof docElemStyle.transition == 'string' ? 'transition' : 'WebkitTransition';\n  var transformProperty = typeof docElemStyle.transform == 'string' ? 'transform' : 'WebkitTransform';\n  var transitionEndEvent = {\n    WebkitTransition: 'webkitTransitionEnd',\n    transition: 'transitionend'\n  }[transitionProperty]; // cache all vendor properties that could have vendor prefix\n\n  var vendorProperties = {\n    transform: transformProperty,\n    transition: transitionProperty,\n    transitionDuration: transitionProperty + 'Duration',\n    transitionProperty: transitionProperty + 'Property',\n    transitionDelay: transitionProperty + 'Delay'\n  }; // -------------------------- Item -------------------------- //\n\n  function Item(element, layout) {\n    if (!element) {\n      return;\n    }\n\n    this.element = element; // parent layout class, i.e. Masonry, Isotope, or Packery\n\n    this.layout = layout;\n    this.position = {\n      x: 0,\n      y: 0\n    };\n\n    this._create();\n  } // inherit EvEmitter\n\n\n  var proto = Item.prototype = Object.create(EvEmitter.prototype);\n  proto.constructor = Item;\n\n  proto._create = function () {\n    // transition objects\n    this._transn = {\n      ingProperties: {},\n      clean: {},\n      onEnd: {}\n    };\n    this.css({\n      position: 'absolute'\n    });\n  }; // trigger specified handler for event type\n\n\n  proto.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n  /**\n   * apply CSS styles to element\n   * @param {Object} style\n   */\n\n\n  proto.css = function (style) {\n    var elemStyle = this.element.style;\n\n    for (var prop in style) {\n      // use vendor property if available\n      var supportedProp = vendorProperties[prop] || prop;\n      elemStyle[supportedProp] = style[prop];\n    }\n  }; // measure position, and sets it\n\n\n  proto.getPosition = function () {\n    var style = getComputedStyle(this.element);\n\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop');\n\n    var xValue = style[isOriginLeft ? 'left' : 'right'];\n    var yValue = style[isOriginTop ? 'top' : 'bottom'];\n    var x = parseFloat(xValue);\n    var y = parseFloat(yValue); // convert percent to pixels\n\n    var layoutSize = this.layout.size;\n\n    if (xValue.indexOf('%') != -1) {\n      x = x / 100 * layoutSize.width;\n    }\n\n    if (yValue.indexOf('%') != -1) {\n      y = y / 100 * layoutSize.height;\n    } // clean up 'auto' or other non-integer values\n\n\n    x = isNaN(x) ? 0 : x;\n    y = isNaN(y) ? 0 : y; // remove padding from measurement\n\n    x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n    y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n    this.position.x = x;\n    this.position.y = y;\n  }; // set settled position, apply padding\n\n\n  proto.layoutPosition = function () {\n    var layoutSize = this.layout.size;\n    var style = {};\n\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop'); // x\n\n\n    var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n    var xProperty = isOriginLeft ? 'left' : 'right';\n    var xResetProperty = isOriginLeft ? 'right' : 'left';\n    var x = this.position.x + layoutSize[xPadding]; // set in percentage or pixels\n\n    style[xProperty] = this.getXValue(x); // reset other property\n\n    style[xResetProperty] = ''; // y\n\n    var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n    var yProperty = isOriginTop ? 'top' : 'bottom';\n    var yResetProperty = isOriginTop ? 'bottom' : 'top';\n    var y = this.position.y + layoutSize[yPadding]; // set in percentage or pixels\n\n    style[yProperty] = this.getYValue(y); // reset other property\n\n    style[yResetProperty] = '';\n    this.css(style);\n    this.emitEvent('layout', [this]);\n  };\n\n  proto.getXValue = function (x) {\n    var isHorizontal = this.layout._getOption('horizontal');\n\n    return this.layout.options.percentPosition && !isHorizontal ? x / this.layout.size.width * 100 + '%' : x + 'px';\n  };\n\n  proto.getYValue = function (y) {\n    var isHorizontal = this.layout._getOption('horizontal');\n\n    return this.layout.options.percentPosition && isHorizontal ? y / this.layout.size.height * 100 + '%' : y + 'px';\n  };\n\n  proto._transitionTo = function (x, y) {\n    this.getPosition(); // get current x & y from top/left\n\n    var curX = this.position.x;\n    var curY = this.position.y;\n    var didNotMove = x == this.position.x && y == this.position.y; // save end position\n\n    this.setPosition(x, y); // if did not move and not transitioning, just go to layout\n\n    if (didNotMove && !this.isTransitioning) {\n      this.layoutPosition();\n      return;\n    }\n\n    var transX = x - curX;\n    var transY = y - curY;\n    var transitionStyle = {};\n    transitionStyle.transform = this.getTranslate(transX, transY);\n    this.transition({\n      to: transitionStyle,\n      onTransitionEnd: {\n        transform: this.layoutPosition\n      },\n      isCleaning: true\n    });\n  };\n\n  proto.getTranslate = function (x, y) {\n    // flip cooridinates if origin on right or bottom\n    var isOriginLeft = this.layout._getOption('originLeft');\n\n    var isOriginTop = this.layout._getOption('originTop');\n\n    x = isOriginLeft ? x : -x;\n    y = isOriginTop ? y : -y;\n    return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n  }; // non transition + transform support\n\n\n  proto.goTo = function (x, y) {\n    this.setPosition(x, y);\n    this.layoutPosition();\n  };\n\n  proto.moveTo = proto._transitionTo;\n\n  proto.setPosition = function (x, y) {\n    this.position.x = parseFloat(x);\n    this.position.y = parseFloat(y);\n  }; // ----- transition ----- //\n\n  /**\n   * @param {Object} style - CSS\n   * @param {Function} onTransitionEnd\n   */\n  // non transition, just trigger callback\n\n\n  proto._nonTransition = function (args) {\n    this.css(args.to);\n\n    if (args.isCleaning) {\n      this._removeStyles(args.to);\n    }\n\n    for (var prop in args.onTransitionEnd) {\n      args.onTransitionEnd[prop].call(this);\n    }\n  };\n  /**\n   * proper transition\n   * @param {Object} args - arguments\n   *   @param {Object} to - style to transition to\n   *   @param {Object} from - style to start transition from\n   *   @param {Boolean} isCleaning - removes transition styles after transition\n   *   @param {Function} onTransitionEnd - callback\n   */\n\n\n  proto.transition = function (args) {\n    // redirect to nonTransition if no transition duration\n    if (!parseFloat(this.layout.options.transitionDuration)) {\n      this._nonTransition(args);\n\n      return;\n    }\n\n    var _transition = this._transn; // keep track of onTransitionEnd callback by css property\n\n    for (var prop in args.onTransitionEnd) {\n      _transition.onEnd[prop] = args.onTransitionEnd[prop];\n    } // keep track of properties that are transitioning\n\n\n    for (prop in args.to) {\n      _transition.ingProperties[prop] = true; // keep track of properties to clean up when transition is done\n\n      if (args.isCleaning) {\n        _transition.clean[prop] = true;\n      }\n    } // set from styles\n\n\n    if (args.from) {\n      this.css(args.from); // force redraw. http://blog.alexmaccaw.com/css-transitions\n\n      var h = this.element.offsetHeight; // hack for JSHint to hush about unused var\n\n      h = null;\n    } // enable transition\n\n\n    this.enableTransition(args.to); // set styles that are transitioning\n\n    this.css(args.to);\n    this.isTransitioning = true;\n  }; // dash before all cap letters, including first for\n  // WebkitTransform => -webkit-transform\n\n\n  function toDashedAll(str) {\n    return str.replace(/([A-Z])/g, function ($1) {\n      return '-' + $1.toLowerCase();\n    });\n  }\n\n  var transitionProps = 'opacity,' + toDashedAll(transformProperty);\n\n  proto.enableTransition = function ()\n  /* style */\n  {\n    // HACK changing transitionProperty during a transition\n    // will cause transition to jump\n    if (this.isTransitioning) {\n      return;\n    } // make `transition: foo, bar, baz` from style object\n    // HACK un-comment this when enableTransition can work\n    // while a transition is happening\n    // var transitionValues = [];\n    // for ( var prop in style ) {\n    //   // dash-ify camelCased properties like WebkitTransition\n    //   prop = vendorProperties[ prop ] || prop;\n    //   transitionValues.push( toDashedAll( prop ) );\n    // }\n    // munge number to millisecond, to match stagger\n\n\n    var duration = this.layout.options.transitionDuration;\n    duration = typeof duration == 'number' ? duration + 'ms' : duration; // enable transition styles\n\n    this.css({\n      transitionProperty: transitionProps,\n      transitionDuration: duration,\n      transitionDelay: this.staggerDelay || 0\n    }); // listen for transition end event\n\n    this.element.addEventListener(transitionEndEvent, this, false);\n  }; // ----- events ----- //\n\n\n  proto.onwebkitTransitionEnd = function (event) {\n    this.ontransitionend(event);\n  };\n\n  proto.onotransitionend = function (event) {\n    this.ontransitionend(event);\n  }; // properties that I munge to make my life easier\n\n\n  var dashedVendorProperties = {\n    '-webkit-transform': 'transform'\n  };\n\n  proto.ontransitionend = function (event) {\n    // disregard bubbled events from children\n    if (event.target !== this.element) {\n      return;\n    }\n\n    var _transition = this._transn; // get property name of transitioned property, convert to prefix-free\n\n    var propertyName = dashedVendorProperties[event.propertyName] || event.propertyName; // remove property that has completed transitioning\n\n    delete _transition.ingProperties[propertyName]; // check if any properties are still transitioning\n\n    if (isEmptyObj(_transition.ingProperties)) {\n      // all properties have completed transitioning\n      this.disableTransition();\n    } // clean style\n\n\n    if (propertyName in _transition.clean) {\n      // clean up style\n      this.element.style[event.propertyName] = '';\n      delete _transition.clean[propertyName];\n    } // trigger onTransitionEnd callback\n\n\n    if (propertyName in _transition.onEnd) {\n      var onTransitionEnd = _transition.onEnd[propertyName];\n      onTransitionEnd.call(this);\n      delete _transition.onEnd[propertyName];\n    }\n\n    this.emitEvent('transitionEnd', [this]);\n  };\n\n  proto.disableTransition = function () {\n    this.removeTransitionStyles();\n    this.element.removeEventListener(transitionEndEvent, this, false);\n    this.isTransitioning = false;\n  };\n  /**\n   * removes style property from element\n   * @param {Object} style\n  **/\n\n\n  proto._removeStyles = function (style) {\n    // clean up transition styles\n    var cleanStyle = {};\n\n    for (var prop in style) {\n      cleanStyle[prop] = '';\n    }\n\n    this.css(cleanStyle);\n  };\n\n  var cleanTransitionStyle = {\n    transitionProperty: '',\n    transitionDuration: '',\n    transitionDelay: ''\n  };\n\n  proto.removeTransitionStyles = function () {\n    // remove transition\n    this.css(cleanTransitionStyle);\n  }; // ----- stagger ----- //\n\n\n  proto.stagger = function (delay) {\n    delay = isNaN(delay) ? 0 : delay;\n    this.staggerDelay = delay + 'ms';\n  }; // ----- show/hide/remove ----- //\n  // remove element from DOM\n\n\n  proto.removeElem = function () {\n    this.element.parentNode.removeChild(this.element); // remove display: none\n\n    this.css({\n      display: ''\n    });\n    this.emitEvent('remove', [this]);\n  };\n\n  proto.remove = function () {\n    // just remove element if no transition support or no transition\n    if (!transitionProperty || !parseFloat(this.layout.options.transitionDuration)) {\n      this.removeElem();\n      return;\n    } // start transition\n\n\n    this.once('transitionEnd', function () {\n      this.removeElem();\n    });\n    this.hide();\n  };\n\n  proto.reveal = function () {\n    delete this.isHidden; // remove display: none\n\n    this.css({\n      display: ''\n    });\n    var options = this.layout.options;\n    var onTransitionEnd = {};\n    var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n    onTransitionEnd[transitionEndProperty] = this.onRevealTransitionEnd;\n    this.transition({\n      from: options.hiddenStyle,\n      to: options.visibleStyle,\n      isCleaning: true,\n      onTransitionEnd: onTransitionEnd\n    });\n  };\n\n  proto.onRevealTransitionEnd = function () {\n    // check if still visible\n    // during transition, item may have been hidden\n    if (!this.isHidden) {\n      this.emitEvent('reveal');\n    }\n  };\n  /**\n   * get style property use for hide/reveal transition end\n   * @param {String} styleProperty - hiddenStyle/visibleStyle\n   * @returns {String}\n   */\n\n\n  proto.getHideRevealTransitionEndProperty = function (styleProperty) {\n    var optionStyle = this.layout.options[styleProperty]; // use opacity\n\n    if (optionStyle.opacity) {\n      return 'opacity';\n    } // get first property\n\n\n    for (var prop in optionStyle) {\n      return prop;\n    }\n  };\n\n  proto.hide = function () {\n    // set flag\n    this.isHidden = true; // remove display: none\n\n    this.css({\n      display: ''\n    });\n    var options = this.layout.options;\n    var onTransitionEnd = {};\n    var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n    onTransitionEnd[transitionEndProperty] = this.onHideTransitionEnd;\n    this.transition({\n      from: options.visibleStyle,\n      to: options.hiddenStyle,\n      // keep hidden stuff hidden\n      isCleaning: true,\n      onTransitionEnd: onTransitionEnd\n    });\n  };\n\n  proto.onHideTransitionEnd = function () {\n    // check if still hidden\n    // during transition, item may have been un-hidden\n    if (this.isHidden) {\n      this.css({\n        display: 'none'\n      });\n      this.emitEvent('hide');\n    }\n  };\n\n  proto.destroy = function () {\n    this.css({\n      position: '',\n      left: '',\n      right: '',\n      top: '',\n      bottom: '',\n      transition: '',\n      transform: ''\n    });\n  };\n\n  return Item;\n});","/**\n * Isotope Item\n**/\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('outlayer'));\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(window.Outlayer);\n  }\n})(window, function factory(Outlayer) {\n  'use strict'; // -------------------------- Item -------------------------- //\n  // sub-class Outlayer Item\n\n  function Item() {\n    Outlayer.Item.apply(this, arguments);\n  }\n\n  var proto = Item.prototype = Object.create(Outlayer.Item.prototype);\n  var _create = proto._create;\n\n  proto._create = function () {\n    // assign id, used for original-order sorting\n    this.id = this.layout.itemGUID++;\n\n    _create.call(this);\n\n    this.sortData = {};\n  };\n\n  proto.updateSortData = function () {\n    if (this.isIgnored) {\n      return;\n    } // default sorters\n\n\n    this.sortData.id = this.id; // for backward compatibility\n\n    this.sortData['original-order'] = this.id;\n    this.sortData.random = Math.random(); // go thru getSortData obj and apply the sorters\n\n    var getSortData = this.layout.options.getSortData;\n    var sorters = this.layout._sorters;\n\n    for (var key in getSortData) {\n      var sorter = sorters[key];\n      this.sortData[key] = sorter(this.element, this);\n    }\n  };\n\n  var _destroy = proto.destroy;\n\n  proto.destroy = function () {\n    // call super\n    _destroy.apply(this, arguments); // reset display, #741\n\n\n    this.css({\n      display: ''\n    });\n  };\n\n  return Item;\n});","/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode', 'masonry-layout/masonry'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'), require('masonry-layout'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode, window.Masonry);\n  }\n})(window, function factory(LayoutMode, Masonry) {\n  'use strict'; // -------------------------- masonryDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var MasonryMode = LayoutMode.create('masonry');\n  var proto = MasonryMode.prototype;\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  }; // inherit Masonry prototype\n\n  for (var method in Masonry.prototype) {\n    // do not inherit mode methods\n    if (!keepModeMethods[method]) {\n      proto[method] = Masonry.prototype[method];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n\n  proto.measureColumns = function () {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call(this);\n  }; // point to mode options for fitWidth\n\n\n  var _getOption = proto._getOption;\n\n  proto._getOption = function (option) {\n    if (option == 'fitWidth') {\n      return this.options.isFitWidth !== undefined ? this.options.isFitWidth : this.options.fitWidth;\n    }\n\n    return _getOption.apply(this.isotope, arguments);\n  };\n\n  return MasonryMode;\n});","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['outlayer/outlayer', 'get-size/get-size'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('outlayer'), require('get-size'));\n  } else {\n    // browser global\n    window.Masonry = factory(window.Outlayer, window.getSize);\n  }\n})(window, function factory(Outlayer, getSize) {\n  'use strict'; // -------------------------- masonryDefinition -------------------------- //\n  // create an Outlayer layout class\n\n  var Masonry = Outlayer.create('masonry'); // isFitWidth -> fitWidth\n\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function () {\n    this.getSize();\n\n    this._getMeasurement('columnWidth', 'outerWidth');\n\n    this._getMeasurement('gutter', 'outerWidth');\n\n    this.measureColumns(); // reset column Y\n\n    this.colYs = [];\n\n    for (var i = 0; i < this.cols; i++) {\n      this.colYs.push(0);\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function () {\n    this.getContainerWidth(); // if columnWidth is 0, default to outerWidth of first item\n\n    if (!this.columnWidth) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element; // columnWidth fall back to item of first element\n\n      this.columnWidth = firstItemElem && getSize(firstItemElem).outerWidth || // if first elem has no width, default to size of container\n      this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter; // calculate columns\n\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth; // fix rounding errors, typically with gutters\n\n    var excess = columnWidth - containerWidth % columnWidth; // if overshoot is less than a pixel, round up, otherwise floor it\n\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[mathMethod](cols);\n    this.cols = Math.max(cols, 1);\n  };\n\n  proto.getContainerWidth = function () {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n\n    var container = isFitWidth ? this.element.parentNode : this.element; // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n\n    var size = getSize(container);\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize(); // how many columns does this brick span\n\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil'; // round if off by 1 pixel, otherwise use ceil\n\n    var colSpan = Math[mathMethod](item.size.outerWidth / this.columnWidth);\n    colSpan = Math.min(colSpan, this.cols); // use horizontal or top column position\n\n    var colPosMethod = this.options.horizontalOrder ? '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[colPosMethod](colSpan, item); // position the brick\n\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    }; // apply setHeight to necessary columns\n\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n\n    for (var i = colPosition.col; i < setMax; i++) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function (colSpan) {\n    var colGroup = this._getTopColGroup(colSpan); // get the minimum Y value from the columns\n\n\n    var minimumY = Math.min.apply(Math, colGroup);\n    return {\n      col: colGroup.indexOf(minimumY),\n      y: minimumY\n    };\n  };\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n\n\n  proto._getTopColGroup = function (colSpan) {\n    if (colSpan < 2) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = []; // how many different places could this brick fit horizontally\n\n    var groupCount = this.cols + 1 - colSpan; // for each group potential horizontal position\n\n    for (var i = 0; i < groupCount; i++) {\n      colGroup[i] = this._getColGroupY(i, colSpan);\n    }\n\n    return colGroup;\n  };\n\n  proto._getColGroupY = function (col, colSpan) {\n    if (colSpan < 2) {\n      return this.colYs[col];\n    } // make an array of colY values for that one group\n\n\n    var groupColYs = this.colYs.slice(col, col + colSpan); // and get the max value of the array\n\n    return Math.max.apply(Math, groupColYs);\n  }; // get column position based on horizontal index. #873\n\n\n  proto._getHorizontalColPosition = function (colSpan, item) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols; // shift to next row if item can't fit on current row\n\n    col = isOver ? 0 : col; // don't let zero-size items take up space\n\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n    return {\n      col: col,\n      y: this._getColGroupY(col, colSpan)\n    };\n  };\n\n  proto._manageStamp = function (stamp) {\n    var stampSize = getSize(stamp);\n\n    var offset = this._getElementOffset(stamp); // get the columns that this stamp affects\n\n\n    var isOriginLeft = this._getOption('originLeft');\n\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor(firstX / this.columnWidth);\n    firstCol = Math.max(0, firstCol);\n    var lastCol = Math.floor(lastX / this.columnWidth); // lastCol should not go over if multiple of columnWidth #425\n\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min(this.cols - 1, lastCol); // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n\n    var stampMaxY = (isOriginTop ? offset.top : offset.bottom) + stampSize.outerHeight;\n\n    for (var i = firstCol; i <= lastCol; i++) {\n      this.colYs[i] = Math.max(stampMaxY, this.colYs[i]);\n    }\n  };\n\n  proto._getContainerSize = function () {\n    this.maxY = Math.max.apply(Math, this.colYs);\n    var size = {\n      height: this.maxY\n    };\n\n    if (this._getOption('fitWidth')) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function () {\n    var unusedCols = 0; // count unused columns\n\n    var i = this.cols;\n\n    while (--i) {\n      if (this.colYs[i] !== 0) {\n        break;\n      }\n\n      unusedCols++;\n    } // fit container to columns that have been used\n\n\n    return (this.cols - unusedCols) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function () {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n});","/**\n * fitRows layout mode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode'], factory);\n  } else if (typeof exports == 'object') {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode);\n  }\n})(window, function factory(LayoutMode) {\n  'use strict';\n\n  var FitRows = LayoutMode.create('fitRows');\n  var proto = FitRows.prototype;\n\n  proto._resetLayout = function () {\n    this.x = 0;\n    this.y = 0;\n    this.maxY = 0;\n\n    this._getMeasurement('gutter', 'outerWidth');\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize();\n    var itemWidth = item.size.outerWidth + this.gutter; // if this element cannot fit in the current row\n\n    var containerWidth = this.isotope.size.innerWidth + this.gutter;\n\n    if (this.x !== 0 && itemWidth + this.x > containerWidth) {\n      this.x = 0;\n      this.y = this.maxY;\n    }\n\n    var position = {\n      x: this.x,\n      y: this.y\n    };\n    this.maxY = Math.max(this.maxY, this.y + item.size.outerHeight);\n    this.x += itemWidth;\n    return position;\n  };\n\n  proto._getContainerSize = function () {\n    return {\n      height: this.maxY\n    };\n  };\n\n  return FitRows;\n});","/**\n * vertical layout mode\n */\n(function (window, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['../layout-mode'], factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('../layout-mode'));\n  } else {\n    // browser global\n    factory(window.Isotope.LayoutMode);\n  }\n})(window, function factory(LayoutMode) {\n  'use strict';\n\n  var Vertical = LayoutMode.create('vertical', {\n    horizontalAlignment: 0\n  });\n  var proto = Vertical.prototype;\n\n  proto._resetLayout = function () {\n    this.y = 0;\n  };\n\n  proto._getItemLayoutPosition = function (item) {\n    item.getSize();\n    var x = (this.isotope.size.innerWidth - item.size.outerWidth) * this.options.horizontalAlignment;\n    var y = this.y;\n    this.y += item.size.outerHeight;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  proto._getContainerSize = function () {\n    return {\n      height: this.y\n    };\n  };\n\n  return Vertical;\n});"],"sourceRoot":""}